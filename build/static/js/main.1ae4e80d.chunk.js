(this["webpackJsonpuser-posts"]=this["webpackJsonpuser-posts"]||[]).push([[0],{17:function(e,t,n){e.exports={content:"SignupComponent_content__-xS3c",title:"SignupComponent_title__3Y18q",parentContainer:"SignupComponent_parentContainer__3pl2j",container:"SignupComponent_container__Nfpou",inputCOntainer:"SignupComponent_inputCOntainer__12q-9",input:"SignupComponent_input__1OX9u",actions:"SignupComponent_actions__3CL6e"}},31:function(e,t,n){e.exports={container:"Layout_container__3JcJZ",containerLogo:"Layout_containerLogo__3WdLM",containerNav:"Layout_containerNav__118kZ",logo:"Layout_logo__3iCfm"}},32:function(e,t,n){e.exports={container:"Modal_container__3cGOI","modal-container":"Modal_modal-container__2l8su","modal-header":"Modal_modal-header__1MJC1","modal-body":"Modal_modal-body__2kJKa","modal-footer":"Modal_modal-footer__2rLty"}},41:function(e,t,n){e.exports={inputContainer:"Input_inputContainer__2_irD",input:"Input_input__FrfsP"}},48:function(e,t,n){e.exports={card:"Card_card__fXxBI"}},49:function(e,t,n){e.exports={btn:"Button_btn__2OU2l"}},50:function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__1_XCN"}},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(7),a=n(44),r=n.n(a),s=n(23),o=n(0),i=n.n(o),l=n(1),j=n(15),u=n(12),d=n(45),b=n(36),p=n(26),O=Object(d.a)({apiKey:"AIzaSyA0t-XHWc3AonmYat7_pEIiTxm99rNqEyI",authDomain:"user-posts-9df11.firebaseapp.com",databaseURL:"https://user-posts-9df11-default-rtdb.firebaseio.com",projectId:"user-posts-9df11",storageBucket:"user-posts-9df11.appspot.com",messagingSenderId:"70798554958",appId:"1:70798554958:web:a9ac5ebfd7d2ec5629101f"});Object(b.c)(O);var x=Object(p.b)();Object(p.c)(x,(function(e){e?(localStorage.getItem("user_token")||localStorage.setItem("user_token",e.accessToken),localStorage.getItem("user_id")||localStorage.setItem("user_id",e.uid)):(localStorage.getItem("user_token")&&localStorage.removeItem("user_token"),localStorage.getItem("user_id")||localStorage.removeItem("user_id"))}));var h=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(p.b)(),e.next=4,Object(p.a)(c,t,n);case 4:return a=e.sent,e.abrupt("return",a.user);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(p.b)(),e.next=4,Object(p.d)(c,t,n);case 4:return a=e.sent,e.abrupt("return",a.user);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0.code,e.t0.message),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(p.b)(),e.next=4,Object(p.e)(c);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.code,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),g=n(11),v=n(4),_={isLoggedIn:!1,token:"",uid:"",error:{code:"",message:""},login:function(e,t){},signup:function(e,t){},signOff:function(){},clearError:function(){}},C=Object(c.createContext)(_),y=C.Provider,k=function(e){var t=Object(g.g)();Object(c.useEffect)((function(){var e=localStorage.getItem("user_token");e&&b(e);var t=localStorage.getItem("user_id");t&&_(t),e&&s(!0)}),[]);var n=Object(c.useState)(!1),a=Object(j.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(""),u=Object(j.a)(o,2),d=u[0],b=u[1],p=Object(c.useState)(""),O=Object(j.a)(p,2),x=O[0],_=O[1],C=Object(c.useState)(),k=Object(j.a)(C,2),N=k[0],w=k[1],S=function(){var e=Object(l.a)(i.a.mark((function e(n,c){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n,c);case 2:(a=e.sent).code?w(a):(t.replace("/"),s(!0),b(a.accessToken),_(a.uid));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(i.a.mark((function e(n,c){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n,c);case 2:(a=e.sent).code?w(a):(t.replace("/"),s(!0),b(a.accessToken),_(a.uid));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:s(!1),b("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(y,{value:{isLoggedIn:r,login:S,signUp:I,token:d,uid:x,error:N,signOff:L,clearError:function(){w(null)}},children:e.children})},N=C,w=(n(61),n(48)),S=n.n(w),I=function(e){var t="".concat(S.a.card," ").concat(e.className?e.className:"");return Object(v.jsx)("div",{className:t,style:Object(u.a)({},e.style),children:e.children})},L=n(17),F=n.n(L),P=n(41),E=n.n(P),M=function(e){var t="".concat(E.a.input," ").concat(e.className),n=Object(v.jsx)("input",Object(u.a)({style:Object(u.a)({},e.style),id:e.id,className:t,value:e.value,name:e.name,onChange:e.onChange},e));return e.isRef&&(n=Object(v.jsx)("input",Object(u.a)({style:Object(u.a)({},e.style),id:e.id,className:t,name:e.name,ref:e.inputRef},e))),Object(v.jsxs)("div",{className:E.a.inputContainer,children:[Object(v.jsx)("label",{htmlFor:e.id,children:e.title}),n]})},U=n(49),q=n.n(U),B=function(e){var t="".concat(e.className," ").concat(q.a.btn),n=Object(v.jsx)("button",Object(u.a)(Object(u.a)({className:t,onClick:e.onClick,style:Object(u.a)({},e.style)},e),{},{children:e.title}));return e.isLink&&(n=Object(v.jsx)(s.b,Object(u.a)(Object(u.a)({to:e.to,className:t,style:Object(u.a)({},e.style)},e),{},{children:e.title}))),n},R=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(j.a)(r,2),o=s[0],u=s[1],d=Object(c.useContext)(N),b=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d.signUp(n,o);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:F.a.content,children:[Object(v.jsx)(I,{className:F.a.title,children:Object(v.jsx)("h1",{children:" Sign Up"})}),Object(v.jsx)("div",{className:F.a.parentContainer,children:Object(v.jsx)(I,{className:F.a.container,style:{paddingTop:"20px",paddingBottom:"20px"},children:Object(v.jsxs)("form",{onSubmit:b,children:[Object(v.jsxs)("div",{className:F.a.inputCOntainer,children:[Object(v.jsx)("label",{htmlFor:"email",children:"E Mail"}),Object(v.jsx)(M,{id:"email",type:"email",placeholder:"E Mail",onChange:function(e){a(e.target.value)},value:n,required:!0})]}),Object(v.jsxs)("div",{className:F.a.inputCOntainer,children:[Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)(M,{id:"email",type:"password",placeholder:"Password",onChange:function(e){u(e.target.value)},value:o,required:!0})]}),Object(v.jsxs)("div",{className:F.a.actions,children:[Object(v.jsx)(B,{title:"Sign up",onClick:function(){},style:{marginRight:"10px"}}),Object(v.jsx)(B,{title:"Cancel",onClick:function(){},style:{marginRight:"10px"}})]})]})})})]})},J=function(){return Object(v.jsx)(R,{})},T=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(N),s=Object(c.useState)(""),o=Object(j.a)(s,2),u=o[0],d=o[1],b=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r.login(n,u);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:F.a.content,children:[Object(v.jsx)(I,{className:F.a.title,children:Object(v.jsx)("h1",{children:" Login"})}),Object(v.jsx)("div",{className:F.a.parentContainer,children:Object(v.jsx)(I,{className:F.a.container,style:{paddingTop:"20px",paddingBottom:"20px"},children:Object(v.jsxs)("form",{onSubmit:b,children:[Object(v.jsxs)("div",{className:F.a.inputCOntainer,children:[Object(v.jsx)("label",{htmlFor:"email",children:"E Mail"}),Object(v.jsx)(M,{id:"email",type:"email",placeholder:"E Mail",onChange:function(e){a(e.target.value)},value:n,required:!0})]}),Object(v.jsxs)("div",{className:F.a.inputCOntainer,children:[Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)(M,{id:"email",type:"password",placeholder:"Password",onChange:function(e){d(e.target.value)},value:u,required:!0})]}),Object(v.jsxs)("div",{className:F.a.actions,children:[Object(v.jsx)(B,{title:"Login",onClick:function(){},style:{marginRight:"10px"}}),Object(v.jsx)(B,{title:"Cancel",onClick:function(){},style:{marginRight:"10px"}})]})]})})})]})},D=function(){return Object(v.jsx)(T,{})},W=function(){return Object(v.jsx)("div",{})},X=function(){return Object(v.jsx)("div",{})},A=function(){return Object(v.jsx)("div",{})},K=n(31),Y=n.n(K),Z=function(e){var t=Object(c.useContext)(N);console.log(t.isLoggedIn);var n=t.isLoggedIn?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"/posts/newPost",children:Object(v.jsx)(B,{title:"New Post",onClick:function(){},style:{width:"10vw"}})})}),Object(v.jsx)("li",{children:Object(v.jsx)(B,{title:"Sign Out",onClick:t.signOff,style:{width:"10vw"}})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"/signup",children:Object(v.jsx)(B,{title:"Sign Up",onClick:t.signOff,style:{width:"10vw"}})})}),Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"/login",children:Object(v.jsx)(B,{title:"Login",onClick:t.signOff,style:{width:"10vw"}})})})]}),a=!!e.imageUrl?Object(v.jsx)("img",{className:Y.a.logo,src:e.imageUrl,alt:e.title}):Object(v.jsx)("span",{className:Y.a.logo,style:{display:"inline-block"},children:e.title});return Object(v.jsxs)("div",{className:Y.a.container,children:[Object(v.jsx)("div",{className:Y.a.containerLogo,children:Object(v.jsxs)(s.b,{to:"/",children:[" ",a]})}),Object(v.jsx)("h1",{children:" User Posts"}),Object(v.jsx)("div",{children:Object(v.jsx)("nav",{children:Object(v.jsx)("ul",{className:Y.a.containerNav,children:n})})})]})},z=n(32),G=n.n(z),H=function(e){return Object(v.jsx)("div",{className:G.a.container,onClick:e.onClose,children:Object(v.jsxs)("div",{className:G.a["modal-container"],onClick:function(e){return e.stopPropagation()},children:[Object(v.jsx)("div",{className:G.a["modal-header"],style:Object(u.a)({},e.headerStyle),children:e.header}),Object(v.jsx)("div",{style:Object(u.a)(Object(u.a)({},e.bodyStyle),{},{display:"flex",justifyContent:"center",alignItems:"center"}),className:G.a["modal-body"],children:e.children}),Object(v.jsx)("div",{className:G.a["modal-footer"],children:e.actions})]})})},Q=n(50),V=n.n(Q),$=function(e){return Object(v.jsx)("div",{onClick:e.onClose,className:V.a.backdrop})},ee=function(e){var t=Object(c.useContext)(N).error;return t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)($,{onClose:e.onClose}),Object(v.jsx)(H,{header:Object(v.jsx)("h1",{style:{color:"red",fontWeight:"bold",padding:"5px",backgroundColor:"rgb(226, 244, 245)",width:"100%"},children:"Some error occurred"}),actions:Object(v.jsx)(B,{title:"Close",onClick:e.onClose,style:{fontWeight:"bold"}}),headerStyle:{border:"2px solid red"},bodyStyle:{color:"red",border:"1px solid red"},onClose:e.onClose,children:Object(v.jsx)("p",{children:t.message.replace(/Firebase:/g,"")})})]}):null};var te=function(){var e=Object(c.useContext)(N),t=e.isLoggedIn?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.b,{path:"/posts/newPost",children:Object(v.jsx)(X,{})}),Object(v.jsx)(g.b,{path:"/posts/:id",children:Object(v.jsx)(A,{})})]}):null;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ee,{onClose:function(){return e.clearError()}}),Object(v.jsx)(Z,{title:"User Posts",imageUrl:"/blog.jfif"}),Object(v.jsxs)(g.d,{children:[Object(v.jsx)(g.b,{path:"/",exact:!0,children:Object(v.jsx)(g.a,{to:"/posts"})}),Object(v.jsx)(g.b,{path:"/signup",children:Object(v.jsx)(J,{})}),Object(v.jsx)(g.b,{path:"/login",children:Object(v.jsx)(D,{})}),Object(v.jsx)(g.b,{path:"/posts",exact:!0,children:Object(v.jsx)(W,{})}),t,Object(v.jsx)(g.b,{path:"**",children:Object(v.jsx)(g.a,{to:"/posts"})})]})]})};r.a.render(Object(v.jsx)(k,{children:Object(v.jsx)(s.a,{children:Object(v.jsx)(te,{})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.1ae4e80d.chunk.js.map