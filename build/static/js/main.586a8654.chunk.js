(this["webpackJsonpuser-posts"]=this["webpackJsonpuser-posts"]||[]).push([[0],{138:function(e,t,n){e.exports={card:"Card_card__fXxBI"}},139:function(e,t,n){e.exports={btn:"Button_btn__2OU2l"}},144:function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__1_XCN"}},155:function(e,t,n){},157:function(e,t,n){},24:function(e,t,n){e.exports={content:"SignupComponent_content__-xS3c",title:"SignupComponent_title__3Y18q",parentContainer:"SignupComponent_parentContainer__3pl2j",container:"SignupComponent_container__Nfpou",inputContainer:"SignupComponent_inputContainer__1L_WW",imageContainer:"SignupComponent_imageContainer__27QWb",input:"SignupComponent_input__1OX9u",actions:"SignupComponent_actions__3CL6e"}},254:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),c=n(59),s=n.n(c),i=n(22),o=n(0),l=n.n(o),u=n(1),d=n(11),j=n(14),p=n(137),b=n(21),f=n(64),O=n(41),x=Object(p.a)({apiKey:"AIzaSyA0t-XHWc3AonmYat7_pEIiTxm99rNqEyI",authDomain:"user-posts-9df11.firebaseapp.com",databaseURL:"https://user-posts-9df11-default-rtdb.firebaseio.com",projectId:"user-posts-9df11",storageBucket:"user-posts-9df11.appspot.com",messagingSenderId:"70798554958",appId:"1:70798554958:web:a9ac5ebfd7d2ec5629101f"}),h=Object(b.e)(x);function g(){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.f)(Object(b.b)(h,"categories")),e.next=3,Object(b.d)(t);case 3:if(0!=(n=e.sent).size){e.next=8;break}return e.abrupt("return",[]);case 8:return r=[],n.forEach((function(e){r.push(Object(j.a)({id:e.id},e.data()))})),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(l.a.mark((function e(t){var n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.f)(Object(b.b)(h,"categories"),Object(b.i)("name","==",t)),e.next=4,Object(b.d)(n);case 4:if(0!=(r=e.sent).size){e.next=14;break}return e.next=9,Object(b.a)(Object(b.b)(h,"categories"),{name:t});case 9:return a=e.sent,e.abrupt("return",a.id);case 14:return r.forEach((function(e){c=e.id})),e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(b.a)(Object(b.b)(h,"users/".concat(t,"/posts")),n);case 3:return r=e.sent,e.abrupt("return",r.id);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(b.g)(Object(b.c)(h,"users",t),n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(b.h)(Object(b.c)(h,"users",t),n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.b)(h,"users"),e.next=3,Object(b.d)(t);case 3:return n=e.sent,r=n.docs.map((function(e){return Object(j.a)({id:e.id},e.data())})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.b)(h,"users/".concat(t,"/posts")),e.next=3,Object(b.d)(n);case 3:return r=e.sent,a=r.docs.map((function(e){return Object(j.a)({id:e.id},e.data())})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=Object(O.b)();Object(O.c)(T,(function(e){e?(localStorage.getItem("user_token")||localStorage.setItem("user_token",e.accessToken),localStorage.getItem("user_id")||localStorage.setItem("user_id",e.uid)):(localStorage.getItem("user_token")&&localStorage.removeItem("user_token"),localStorage.getItem("user_id")||localStorage.removeItem("user_id"))}));var R=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(O.b)(),e.next=4,Object(O.a)(r,t,n);case 4:return a=e.sent,e.abrupt("return",a.user);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){if(null!=t){var a=Object(f.b)(),c=t.name.split(".")[(t.name+"").split(".").length-1],s=Object(f.c)(a,"".concat(n,"/").concat(t.name)),i={contentType:"image/".concat(c)},o=Object(f.d)(s,t,i);o.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){switch(e.code){case"storage/unauthorized":case"storage/canceled":case"storage/unknown":r(e)}}),(function(){Object(f.a)(o.snapshot.ref).then((function(t){console.log("File available at",t),e(t)}))}))}})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(O.b)(),e.next=4,Object(O.d)(r,t,n);case 4:return a=e.sent,e.abrupt("return",a.user);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0.code,e.t0.message),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(O.b)(),e.next=4,Object(O.e)(r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.code,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),F=n(4),M={isLoggedIn:!1,token:"",uid:"",error:{code:"",message:""},callSetError:function(e){},login:function(e,t){},signup:function(e,t){},signOff:function(){},clearError:function(){}},W=Object(r.createContext)(M),q=W.Provider,B=function(e){Object(r.useEffect)((function(){var e=localStorage.getItem("user_token");e&&j(e);var t=localStorage.getItem("user_id");t&&O(t),e&&c(!0)}),[]);var t=Object(r.useState)(!1),n=Object(d.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(d.a)(s,2),o=i[0],j=i[1],p=Object(r.useState)(""),b=Object(d.a)(p,2),f=b[0],O=b[1],x=Object(r.useState)(),h=Object(d.a)(x,2),g=h[0],m=h[1];Object(r.useEffect)((function(){localStorage.setItem("user_token",o),localStorage.setItem("user_id",f)}),[o]);var v=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,n);case 2:if((r=e.sent).code){e.next=10;break}return c(!0),j(r.accessToken),O(r.uid),e.abrupt("return",r);case 10:return m(r),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t,n);case 2:if((r=e.sent).code){e.next=10;break}return c(!0),j(r.accessToken),O(r.uid),e.abrupt("return",r);case 10:return m(r),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:c(!1),j("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsx)(q,{value:{isLoggedIn:a,login:v,signUp:_,callSetError:function(e){return m(e)},token:o,uid:f,error:g,signOff:y,clearError:function(){m(null)}},children:e.children})},H=W,J=n(32),z=n(19),X=n(96),Z=Object(X.b)({name:"userAndPosts",initialState:{categories:[],users:[],posts:[]},reducers:{loadCategories:function(e,t){e.categories=t.payload},loadUsers:function(e,t){e.users=t.payload},loadPosts:function(e,t){e.posts=[].concat(Object(z.a)(e.posts),Object(z.a)(t.payload))}}}),G=Z.actions,K=Object(X.a)({reducer:{userPosts:Z.reducer}}),Y=n(8),Q=(n(155),n(20)),V=n(138),$=n.n(V),ee=function(e){var t="".concat($.a.card," ").concat(e.className?e.className:"");return Object(F.jsx)("div",{className:t,style:Object(j.a)({},e.style),children:e.children})},te=n(24),ne=n.n(te),re=n(93),ae=n.n(re),ce=function(e){var t="".concat(ae.a.input," ").concat(e.className),n=Object(F.jsx)("input",Object(j.a)({style:Object(j.a)({},e.style),id:e.id,className:t,value:e.value,name:e.name,onChange:e.onChange},e));return e.isRef&&(n=Object(F.jsx)("input",Object(j.a)({style:Object(j.a)({},e.style),id:e.id,className:t,name:e.name,ref:e.inputRef},e))),Object(F.jsxs)("div",{className:ae.a.inputContainer,style:Object(j.a)({},e.inputContainerStyle||null),children:[Object(F.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(F.jsx)("label",{htmlFor:e.id,style:Object(j.a)({},e.inputContainerLabelStyle||null),children:e.title})}),n]})},se=n(139),ie=n.n(se),oe=function(e){var t="".concat(e.className," ").concat(ie.a.btn),n=Object(F.jsx)("button",Object(j.a)(Object(j.a)({className:t,onClick:e.onClick,style:Object(j.a)({},e.style)},e),{},{children:e.title}));return e.isLink&&(n=Object(F.jsx)(i.b,Object(j.a)(Object(j.a)({to:e.to,className:t,style:Object(j.a)({},e.style)},e),{},{children:e.title}))),n},le=n(78),ue=n.n(le),de=function(e){var t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],c=n[1],s=new FileReader;s.addEventListener("load",(function(){c(s.result)}),!1);var i=Object(r.useRef)();return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:ue.a["image-container"],children:a&&Object(F.jsx)("img",{src:a,alt:e.imageTitle,title:e.imageTitle,className:ue.a.image})}),Object(F.jsx)("input",{type:"file",accept:".png,.jpeg,.jpg,.bmp",style:{display:"none"},ref:i,onChange:function(t){t.target.files[0]&&(e.onFileReceived(t.target.files[0]),t.target.files[0]&&s.readAsDataURL(t.target.files[0]))}}),Object(F.jsxs)("div",{className:ue.a["button-container"],children:[Object(F.jsx)("label",{children:e.imageTitle}),Object(F.jsx)(oe,{title:"Upload",onClick:function(){return i.current.click()},type:"button"})]})]})},je=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(),s=Object(d.a)(c,2),i=s[0],o=s[1],j=Object(Q.g)(),p=Object(r.useState)(""),b=Object(d.a)(p,2),f=b[0],O=b[1],x=Object(r.useState)(""),h=Object(d.a)(x,2),g=h[0],m=h[1],v=Object(r.useContext)(H),_=function(){var e=Object(u.a)(l.a.mark((function e(t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v.signUp(n,f);case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),v.callSetError(e.t0),e.abrupt("return");case 11:return e.prev=11,e.next=14,w(r.uid,{name:g});case 14:e.next=21;break;case 16:return e.prev=16,e.t1=e.catch(11),v.callSetError(e.t1),r&&j.replace("/"),e.abrupt("return");case 21:return e.prev=21,e.next=24,A(i,"".concat(r.uid,"/images"));case 24:a=e.sent,e.next=32;break;case 27:return e.prev=27,e.t2=e.catch(21),v.callSetError(e.t2),r&&j.replace("/"),e.abrupt("return");case 32:if(!a){e.next=43;break}return e.prev=33,e.next=36,S(r.uid,{profileImageUrl:a});case 36:r&&j.replace("/"),e.next=43;break;case 39:e.prev=39,e.t3=e.catch(33),v.callSetError(e.t3),r&&j.replace("/");case 43:case"end":return e.stop()}}),e,null,[[1,7],[11,16],[21,27],[33,39]])})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:ne.a.content,children:[Object(F.jsx)(ee,{className:ne.a.title,children:Object(F.jsx)("h1",{children:" Sign Up"})}),Object(F.jsx)("div",{className:ne.a.parentContainer,children:Object(F.jsx)(ee,{className:ne.a.container,style:{paddingBottom:"20px"},children:Object(F.jsxs)("form",{onSubmit:_,children:[Object(F.jsx)("div",{className:ne.a.inputContainer,children:Object(F.jsx)(ce,{id:"name",type:"name",placeholder:"Name",onChange:function(e){m(e.target.value)},value:g,title:"Name",inputContainerLabelStyle:{paddingTop:"10px"},required:!0})}),Object(F.jsx)("div",{className:ne.a.inputContainer,children:Object(F.jsx)(ce,{id:"email",type:"email",placeholder:"E Mail",onChange:function(e){a(e.target.value)},value:n,title:"E Mail",inputContainerLabelStyle:{paddingTop:"10px"},required:!0})}),Object(F.jsx)("div",{className:ne.a.inputContainer,children:Object(F.jsx)(ce,{id:"password",type:"password",placeholder:"Password",onChange:function(e){O(e.target.value)},value:f,title:"Password",required:!0})}),Object(F.jsx)("div",{className:ne.a.imageContainer,children:Object(F.jsx)(de,{imageTitle:"Profile image",onFileReceived:function(e){o(e)}})}),Object(F.jsxs)("div",{className:ne.a.actions,children:[Object(F.jsx)(oe,{title:"Sign up",onClick:function(){},style:{marginRight:"10px"}}),Object(F.jsx)(oe,{title:"Cancel",onClick:function(){v.clearError(),j.replace("/")},style:{marginRight:"10px"}})]})]})})})]})},pe=function(){return Object(F.jsx)(je,{})},be=function(){var e=Object(Q.g)(),t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],c=n[1],s=Object(r.useContext)(H),i=Object(r.useState)(""),o=Object(d.a)(i,2),j=o[0],p=o[1],b=function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,s.login(a,j);case 3:t.sent&&e.replace("/");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:ne.a.content,children:[Object(F.jsx)(ee,{className:ne.a.title,children:Object(F.jsx)("h1",{children:" Login"})}),Object(F.jsx)("div",{className:ne.a.parentContainer,children:Object(F.jsx)(ee,{className:ne.a.container,style:{paddingBottom:"20px"},children:Object(F.jsxs)("form",{onSubmit:b,children:[Object(F.jsx)(ce,{id:"email",type:"email",placeholder:"E Mail",onChange:function(e){c(e.target.value)},value:a,title:"E Mail",inputContainerLabelStyle:{paddingTop:"10px"},required:!0}),Object(F.jsx)(ce,{id:"email",type:"password",placeholder:"Password",title:"Password",onChange:function(e){p(e.target.value)},value:j,inputContainerLabelStyle:{paddingTop:"10px"},required:!0}),Object(F.jsxs)("div",{className:ne.a.actions,children:[Object(F.jsx)(oe,{title:"Login",onClick:function(){},style:{marginRight:"10px"}}),Object(F.jsx)(oe,{title:"Cancel",type:"button",onClick:function(){s.clearError(),e.replace("/")},style:{marginRight:"10px"}})]})]})})})]})},fe=function(){return Object(F.jsx)(be,{})},Oe=n(79),xe=n.n(Oe),he=n(95),ge=n.n(he),me=function(e){console.log("item rerendered");var t=Object(Q.h)(),n=new URLSearchParams(t.search).get("catId");console.log("catId",n);var r=Object(Q.g)();return console.log(e.isActive),Object(F.jsx)("div",{className:"".concat(ge.a.ItemContainer," ").concat(e.isActive?ge.a.active:""),onClick:function(e){r.push("/posts?catId=".concat(e))}.bind(undefined,e.id),children:Object(F.jsx)("h4",{children:e.name})})},ve=function(){var e=Object(Q.g)(),t=Object(Q.h)(),n=new URLSearchParams(t.search).get("catId");console.log(n);var r=Object(J.c)((function(e){return e.userPosts.categories}));console.log(n),console.log(r);return Object(F.jsxs)("div",{className:xe.a.container,children:[Object(F.jsx)("div",{className:"".concat(xe.a.ItemContainer," ").concat(n?"":xe.a.active),onClick:function(){e.replace("/posts")},children:Object(F.jsx)("h4",{children:"All"})}),r.map((function(e){return Object(F.jsx)(me,{isActive:n==e.id,id:e.id,name:e.name},e.id)}))]})},_e=n(63),ye=n.n(_e),Ce=function(e){var t=Object(r.useRef)();Object(r.useEffect)((function(){t.current.innerHTML=function(e){var t=document.createElement("textarea");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}(e.article)}),[]);var n=Object(J.c)((function(e){return e.userPosts.categories})),a=function(e,t){return t.filter((function(t){return e.includes(t.id)}))}(e.tags,n),c=Object(J.c)((function(e){return e.userPosts.users})).find((function(t){return t.id==e.uid}));return Object(F.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(F.jsx)("h2",{children:e.title}),Object(F.jsxs)("div",{className:ye.a.container,children:[Object(F.jsx)("hr",{}),Object(F.jsx)("ul",{children:a.map((function(e){return Object(F.jsx)("li",{children:e.name},e.id)}))}),Object(F.jsx)("div",{ref:t,className:ye.a.article}),Object(F.jsxs)("div",{className:ye.a.author,children:[Object(F.jsx)("span",{className:ye.a.user,children:c.name}),Object(F.jsx)("span",{children:"--"})]})]})]})},we=function(e){Object(J.c)((function(e){return e.userPosts.categories}));return console.log("posts",e.posts),Object(F.jsx)("div",{style:{width:"100%",display:"flex",paddingTop:"20px",flexDirection:"row",justifyContent:"space-evenly",alignItems:"flex-start",flexWrap:"wrap"},children:e.posts.map((function(e){return Object(F.jsx)(Ce,{article:e.article,uid:e.uid,id:e.id,title:e.title,tags:e.tags},e.id)}))})},ke=function(e){var t=Object(Q.h)(),n=new URLSearchParams(t.search).get("catId"),r=Object(J.c)((function(e){return e.userPosts.posts})),a=r;return n&&(a=r.filter((function(e){return e.tags.includes(n)}))),console.log("posts",a),Object(F.jsxs)("div",{style:{flex:1,display:"flex"},children:[Object(F.jsx)(ve,{}),Object(F.jsx)(we,{posts:a})]})},Se=function(){return Object(F.jsx)(ke,{})},Ne=n(50),Ie=n.n(Ne),Ee=n(141),Le=n.n(Ee),Pe=(n(157),n(80)),Te=n.n(Pe),Re=function(e){var t=a.a.createRef(),n=Object(r.useState)({tags:e.tags||[{id:1,name:"Apples"},{id:2,name:"Pears"}],suggestions:e.suggestions||[{id:3,name:"Bananas"},{id:4,name:"Mangos"},{id:5,name:"Lemons"},{id:6,name:"Apricots"}]}),c=Object(d.a)(n,2),s=c[0],i=c[1];return Object(F.jsxs)("div",{className:Te.a.container,children:[Object(F.jsx)("div",{className:Te.a.labelContainer,children:Object(F.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(F.jsx)("label",{children:e.title})})}),Object(F.jsx)(Le.a,{placeholderText:e.placeholderText||"Enter a value",ref:t,minQueryLength:1,tags:s.tags,suggestions:s.suggestions,onDelete:function(t){var n=s.tags.slice(0);n.splice(t,1),i((function(e){return Object(j.a)(Object(j.a)({},e),{},{tags:Object(z.a)(n)})})),e.onTagsChanged(n)},allowNew:!0,onAddition:function(t){var n=[].concat(s.tags,t);i((function(e){return Object(j.a)(Object(j.a)({},e),{},{tags:Object(z.a)(n)})})),e.onTagsChanged(n)},className:Te.a.reactTags})]})},Ae=n(60),Ue=n(142),De=n(143),Fe=n.n(De),Me=(n(252),n(253),n(81)),We=n.n(Me),qe=function(e){Object(r.useRef)();var t=Object(r.useState)((function(){return Ae.EditorState.createEmpty()})),n=Object(d.a)(t,2),a=n[0],c=n[1];e.html;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:We.a.richTextContainer,children:[Object(F.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(F.jsx)("label",{style:{margin:0,padding:0,paddingBottom:"10px"},children:e.title})}),Object(F.jsx)("div",{className:"editor",children:Object(F.jsx)(Ue.Editor,{editorState:a,onEditorStateChange:function(t){c(t),e.setHtml(Fe()(Object(Ae.convertToRaw)(a.getCurrentContent())))},editorClassName:We.a.editor,wrapperClassName:We.a.wrapper,toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0},image:{uploadCallback:function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("POST","https://api.imgur.com/3/image"),r.setRequestHeader("Authorization","Client-ID ##clientid##");var a=new FormData;a.append("image",e),r.send(a),r.addEventListener("load",(function(){var e=JSON.parse(r.responseText);console.log(e),t(e)})),r.addEventListener("error",(function(){var e=JSON.parse(r.responseText);console.log(e),n(e)}))}))},alt:{present:!0,mandatory:!0}}}})})]})})},Be=function(){var e=[{id:3,name:"English"}],t=Object(Q.g)(),n=Object(r.useState)(""),a=Object(d.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),o=Object(d.a)(i,2),j=o[0],p=o[1],b=Object(r.useState)([]),f=Object(d.a)(b,2),O=f[0],x=f[1],h=Object(r.useContext)(H),g=function(e){var t=[];return e.forEach((function(e){t.includes(e.name)||t.push(e.name)})),t},m=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=Object(Y.a)(t),e.prev=2,a.s();case 4:if((c=a.n()).done){e.next=19;break}return s=c.value,e.prev=6,e.next=9,v(s);case 9:r=e.sent,n.push(r),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(6),h.callSetError(e.t0),e.abrupt("return");case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(2),a.e(e.t1);case 24:return e.prev=24,a.f(),e.finish(24);case 27:return e.abrupt("return",n);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27],[6,13]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var n=Object(u.a)(l.a.mark((function n(r){var a,s,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),a=[],s=g(0==O.length?e:O),n.next=5,m(s);case 5:return a=n.sent,i={tags:a,title:c,article:(o=j,o.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"})))},n.prev=8,n.next=12,y(h.uid,i);case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(8),h.callSetError(n.t0),n.abrupt("return");case 18:t.push("/");case 20:case"end":return n.stop()}var o}),n,null,[[8,14]])})));return function(e){return n.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:Ie.a.content,children:[Object(F.jsx)(ee,{className:Ie.a.title,children:Object(F.jsx)("h1",{children:"Add Post"})}),Object(F.jsx)("div",{className:Ie.a.parentContainer,children:Object(F.jsx)(ee,{className:Ie.a.container,style:{paddingBottom:"20px"},children:Object(F.jsxs)("form",{onSubmit:_,children:[Object(F.jsxs)("div",{className:Ie.a.firstRow,children:[Object(F.jsx)(ce,{id:"text",type:"text",placeholder:"Enter title of the post",onChange:function(e){s(e.target.value)},value:c,title:"Title",required:!0,inputContainerStyle:{flexDirection:"column"}}),Object(F.jsx)(Re,{title:"Select Categories",tags:e,suggestions:[{id:3,name:"English"},{id:4,name:"Spain"},{id:5,name:"Italy"}],onTagsChanged:function(e){x(e)}})]}),Object(F.jsx)(qe,{title:"Article",html:j,setHtml:p}),Object(F.jsxs)("div",{className:Ie.a.actions,children:[Object(F.jsx)(oe,{title:"Save",onClick:function(){},style:{marginRight:"10px"}}),Object(F.jsx)(oe,{title:"Cancel",type:"button",onClick:function(){h.clearError(),t.replace("/")},style:{marginRight:"10px"}})]})]})})})]})},He=function(){return Object(F.jsx)(Be,{})},Je=function(){return Object(F.jsx)("div",{})},ze=n(53),Xe=n.n(ze),Ze=function(e){var t=Object(r.useContext)(H);console.log(t.isLoggedIn);var n=t.isLoggedIn?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("li",{children:Object(F.jsx)(i.b,{to:"/posts/newPost",children:Object(F.jsx)(oe,{title:"New Post",onClick:function(){},style:{width:"10vw"}})})}),Object(F.jsx)("li",{children:Object(F.jsx)(oe,{title:"Sign Out",onClick:t.signOff,style:{width:"10vw"}})})]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("li",{children:Object(F.jsx)(i.b,{to:"/signup",children:Object(F.jsx)(oe,{title:"Sign Up",onClick:t.signOff,style:{width:"10vw"}})})}),Object(F.jsx)("li",{children:Object(F.jsx)(i.b,{to:"/login",children:Object(F.jsx)(oe,{title:"Login",onClick:t.signOff,style:{width:"10vw"}})})})]}),a=!!e.imageUrl?Object(F.jsx)("img",{className:Xe.a.logo,src:e.imageUrl,alt:e.title}):Object(F.jsx)("span",{className:Xe.a.logo,style:{display:"inline-block"},children:e.title});return Object(F.jsxs)("div",{className:Xe.a.container,children:[Object(F.jsx)("div",{className:Xe.a.containerLogo,children:Object(F.jsxs)(i.b,{to:"/",children:[" ",a]})}),Object(F.jsx)("h1",{children:" User Posts"}),Object(F.jsx)("div",{children:Object(F.jsx)("nav",{children:Object(F.jsx)("ul",{className:Xe.a.containerNav,children:n})})})]})},Ge=n(54),Ke=n.n(Ge),Ye=function(e){return Object(F.jsx)("div",{className:Ke.a.container,onClick:e.onClose,children:Object(F.jsxs)("div",{className:Ke.a["modal-container"],onClick:function(e){return e.stopPropagation()},children:[Object(F.jsx)("div",{className:Ke.a["modal-header"],style:Object(j.a)({},e.headerStyle),children:e.header}),Object(F.jsx)("div",{style:Object(j.a)(Object(j.a)({},e.bodyStyle),{},{display:"flex",justifyContent:"center",alignItems:"center"}),className:Ke.a["modal-body"],children:e.children}),Object(F.jsx)("div",{className:Ke.a["modal-footer"],children:e.actions})]})})},Qe=n(144),Ve=n.n(Qe),$e=function(e){return Object(F.jsx)("div",{onClick:e.onClose,className:Ve.a.backdrop})},et=function(e){var t=Object(r.useContext)(H).error;return t&&t.message?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)($e,{onClose:e.onClose}),Object(F.jsx)(Ye,{header:Object(F.jsx)("h1",{style:{color:"white",fontWeight:"bold",padding:"5px",width:"100%"},children:"Some error occurred"}),actions:Object(F.jsx)(oe,{title:"Close",onClick:e.onClose,style:{fontWeight:"bold"}}),bodyStyle:{color:"red"},onClose:e.onClose,children:Object(F.jsx)("p",{style:{backgroundColor:"white",padding:"10px",borderRadius:"5px",border:"2px solid black"},children:t.message.replace(/Firebase:/g,"")})})]}):null},tt=function(e){return Object(F.jsx)("div",{style:{flex:1,alignSelf:"center",display:"flex",flexDirection:"column",width:"100vw"},children:e.children})};var nt=function(){var e=Object(J.b)();Object(r.useEffect)((function(){var t=function(){var t=Object(u.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:n=t.sent,e(G.loadCategories(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(u.a)(l.a.mark((function t(){var n,r,a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,I();case 3:n=t.sent,e(G.loadUsers(n)),r=Object(Y.a)(n),t.prev=6,c=l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.value,t.next=3,L(n.id);case 3:r=t.sent,e(G.loadPosts(r.map((function(e){return Object(j.a)({uid:n.id},e)}))));case 5:case"end":return t.stop()}}),t)})),r.s();case 9:if((a=r.n()).done){t.next=13;break}return t.delegateYield(c(),"t0",11);case 11:t.next=9;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(6),r.e(t.t1);case 18:return t.prev=18,r.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[6,15,18,21]])})));return function(){return t.apply(this,arguments)}}();t(),n()}),[e]);var t=Object(r.useContext)(H),n=t.isLoggedIn?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Q.b,{path:"/posts/newPost",children:Object(F.jsx)(He,{})}),Object(F.jsx)(Q.b,{path:"/posts/:id",children:Object(F.jsx)(Je,{})})]}):null;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(et,{onClose:function(){return t.clearError()}}),Object(F.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh"},children:[Object(F.jsx)(Ze,{title:"User Posts",imageUrl:"/blog.jfif"}),Object(F.jsx)(tt,{children:Object(F.jsxs)(Q.d,{children:[Object(F.jsx)(Q.b,{path:"/",exact:!0,children:Object(F.jsx)(Q.a,{to:"/posts"})}),Object(F.jsx)(Q.b,{path:"/signup",children:Object(F.jsx)(pe,{})}),Object(F.jsx)(Q.b,{path:"/login",children:Object(F.jsx)(fe,{})}),Object(F.jsx)(Q.b,{path:"/posts",exact:!0,children:Object(F.jsx)(Se,{})}),n,Object(F.jsx)(Q.b,{path:"**",children:Object(F.jsx)(Q.a,{to:"/posts"})})]})})]})]})};s.a.render(Object(F.jsx)(J.a,{store:K,children:Object(F.jsx)(B,{children:Object(F.jsx)(i.a,{children:Object(F.jsx)(nt,{})})})}),document.getElementById("root"))},50:function(e,t,n){e.exports={content:"AddPost_content__2d9Hb",title:"AddPost_title__3C7qy",parentContainer:"AddPost_parentContainer__1143G",firstRow:"AddPost_firstRow__2ZwXU",container:"AddPost_container__FStfg",inputContainer:"AddPost_inputContainer__n2vjo",input:"AddPost_input__1BqZx",actions:"AddPost_actions__3_Ld8"}},53:function(e,t,n){e.exports={container:"Layout_container__3JcJZ",containerLogo:"Layout_containerLogo__3WdLM",containerNav:"Layout_containerNav__118kZ",logo:"Layout_logo__3iCfm"}},54:function(e,t,n){e.exports={container:"Modal_container__3cGOI","modal-container":"Modal_modal-container__2l8su","modal-header":"Modal_modal-header__1MJC1","modal-body":"Modal_modal-body__2kJKa","modal-footer":"Modal_modal-footer__2rLty"}},63:function(e,t,n){e.exports={user:"Post_user__3JLKz",author:"Post_author__21ai3",article:"Post_article__1Wj_m",container:"Post_container__19ZOW"}},78:function(e,t,n){e.exports={"image-container":"ImageUpload_image-container__S2-Pb","button-container":"ImageUpload_button-container__1WJDd"}},79:function(e,t,n){e.exports={container:"CategoriesList_container__3yrEm",active:"CategoriesList_active__3Dgc8"}},80:function(e,t,n){e.exports={container:"AutoComplete_container__1WOpD",reactTags:"AutoComplete_reactTags__5FuH5",labelContainer:"AutoComplete_labelContainer__2d16O"}},81:function(e,t,n){e.exports={editor:"RichText_editor__xR2ML","DraftEditor-root":"RichText_DraftEditor-root__3n0e2",wrapper:"RichText_wrapper__2TeGH",richTextContainer:"RichText_richTextContainer__2l_3T"}},93:function(e,t,n){e.exports={inputContainer:"Input_inputContainer__2_irD",input:"Input_input__FrfsP"}},95:function(e,t,n){e.exports={active:"CategoryItem_active__3bd-H",container:"CategoryItem_container__3G0AW"}}},[[254,1,2]]]);
//# sourceMappingURL=main.586a8654.chunk.js.map