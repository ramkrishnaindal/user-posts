(this["webpackJsonpuser-posts"]=this["webpackJsonpuser-posts"]||[]).push([[0],{17:function(e,t,n){e.exports={content:"SignupComponent_content__-xS3c",title:"SignupComponent_title__3Y18q",parentContainer:"SignupComponent_parentContainer__3pl2j",container:"SignupComponent_container__Nfpou",inputCOntainer:"SignupComponent_inputCOntainer__12q-9",input:"SignupComponent_input__1OX9u",actions:"SignupComponent_actions__3CL6e"}},31:function(e,t,n){e.exports={container:"Layout_container__3JcJZ",containerLogo:"Layout_containerLogo__3WdLM",containerNav:"Layout_containerNav__118kZ",logo:"Layout_logo__3iCfm"}},32:function(e,t,n){e.exports={container:"Modal_container__3cGOI","modal-container":"Modal_modal-container__2l8su","modal-header":"Modal_modal-header__1MJC1","modal-body":"Modal_modal-body__2kJKa","modal-footer":"Modal_modal-footer__2rLty"}},40:function(e,t,n){e.exports={inputContainer:"Input_inputContainer__2_irD",input:"Input_input__FrfsP"}},46:function(e,t,n){e.exports={card:"Card_card__fXxBI"}},47:function(e,t,n){e.exports={btn:"Button_btn__2OU2l"}},50:function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__1_XCN"}},57:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(7),a=n(44),r=n.n(a),s=n(23),o=n(0),i=n.n(o),l=n(1),u=n(15),j=n(12),d=n(45),b=n(36),p=n(26),O=Object(d.a)({apiKey:"AIzaSyA0t-XHWc3AonmYat7_pEIiTxm99rNqEyI",authDomain:"user-posts-9df11.firebaseapp.com",databaseURL:"https://user-posts-9df11-default-rtdb.firebaseio.com",projectId:"user-posts-9df11",storageBucket:"user-posts-9df11.appspot.com",messagingSenderId:"70798554958",appId:"1:70798554958:web:a9ac5ebfd7d2ec5629101f"});Object(b.c)(O);var x=Object(p.b)();Object(p.c)(x,(function(e){e?(localStorage.getItem("user_token")||localStorage.setItem("user_token",e.accessToken),localStorage.getItem("user_id")||localStorage.setItem("user_id",e.uid)):(localStorage.getItem("user_token")&&localStorage.removeItem("user_token"),localStorage.getItem("user_id")||localStorage.removeItem("user_id"))}));var h=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(p.b)(),e.next=4,Object(p.a)(c,t,n);case 4:return a=e.sent,e.abrupt("return",a.user);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(p.b)(),e.next=4,Object(p.d)(c,t,n);case 4:return a=e.sent,e.abrupt("return",a.user);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0.code,e.t0.message),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(p.b)(),e.next=4,Object(p.e)(c);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.code,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),g=n(4),v={isLoggedIn:!1,token:"",uid:"",error:{code:"",message:""},login:function(e,t){},signup:function(e,t){},signOff:function(){},clearError:function(){}},_=Object(c.createContext)(v),C=_.Provider,y=function(e){Object(c.useEffect)((function(){var e=localStorage.getItem("user_token");e&&d(e);var t=localStorage.getItem("user_id");t&&x(t),e&&r(!0)}),[]);var t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),o=Object(u.a)(s,2),j=o[0],d=o[1],b=Object(c.useState)(""),p=Object(u.a)(b,2),O=p[0],x=p[1],v=Object(c.useState)(),_=Object(u.a)(v,2),y=_[0],k=_[1],N=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,n);case 2:if((c=e.sent).code){e.next=10;break}return r(!0),d(c.accessToken),x(c.uid),e.abrupt("return",c);case 10:return k(c),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,n);case 2:if((c=e.sent).code){e.next=10;break}return r(!0),d(c.accessToken),x(c.uid),e.abrupt("return",c);case 10:return k(c),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:r(!1),d("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)(C,{value:{isLoggedIn:a,login:N,signUp:w,token:j,uid:O,error:y,signOff:S,clearError:function(){k(null)}},children:e.children})},k=_,N=(n(57),n(11)),w=n(46),S=n.n(w),I=function(e){var t="".concat(S.a.card," ").concat(e.className?e.className:"");return Object(g.jsx)("div",{className:t,style:Object(j.a)({},e.style),children:e.children})},L=n(17),F=n.n(L),P=n(40),E=n.n(P),M=function(e){var t="".concat(E.a.input," ").concat(e.className),n=Object(g.jsx)("input",Object(j.a)({style:Object(j.a)({},e.style),id:e.id,className:t,value:e.value,name:e.name,onChange:e.onChange},e));return e.isRef&&(n=Object(g.jsx)("input",Object(j.a)({style:Object(j.a)({},e.style),id:e.id,className:t,name:e.name,ref:e.inputRef},e))),Object(g.jsxs)("div",{className:E.a.inputContainer,children:[Object(g.jsx)("label",{htmlFor:e.id,children:e.title}),n]})},U=n(47),q=n.n(U),B=function(e){var t="".concat(e.className," ").concat(q.a.btn),n=Object(g.jsx)("button",Object(j.a)(Object(j.a)({className:t,onClick:e.onClick,style:Object(j.a)({},e.style)},e),{},{children:e.title}));return e.isLink&&(n=Object(g.jsx)(s.b,Object(j.a)(Object(j.a)({to:e.to,className:t,style:Object(j.a)({},e.style)},e),{},{children:e.title}))),n},R=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(N.g)(),s=Object(c.useState)(""),o=Object(u.a)(s,2),j=o[0],d=o[1],b=Object(c.useContext)(k),p=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b.signUp(n,j)&&r.replace("/");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:F.a.content,children:[Object(g.jsx)(I,{className:F.a.title,children:Object(g.jsx)("h1",{children:" Sign Up"})}),Object(g.jsx)("div",{className:F.a.parentContainer,children:Object(g.jsx)(I,{className:F.a.container,style:{paddingTop:"20px",paddingBottom:"20px"},children:Object(g.jsxs)("form",{onSubmit:p,children:[Object(g.jsxs)("div",{className:F.a.inputCOntainer,children:[Object(g.jsx)("label",{htmlFor:"email",children:"E Mail"}),Object(g.jsx)(M,{id:"email",type:"email",placeholder:"E Mail",onChange:function(e){a(e.target.value)},value:n,required:!0})]}),Object(g.jsxs)("div",{className:F.a.inputCOntainer,children:[Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)(M,{id:"email",type:"password",placeholder:"Password",onChange:function(e){d(e.target.value)},value:j,required:!0})]}),Object(g.jsxs)("div",{className:F.a.actions,children:[Object(g.jsx)(B,{title:"Sign up",onClick:function(){},style:{marginRight:"10px"}}),Object(g.jsx)(B,{title:"Cancel",onClick:function(){},style:{marginRight:"10px"}})]})]})})})]})},J=function(){return Object(g.jsx)(R,{})},T=function(){var e=Object(N.g)(),t=Object(c.useState)(""),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useContext)(k),o=Object(c.useState)(""),j=Object(u.a)(o,2),d=j[0],b=j[1],p=function(){var t=Object(l.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),s.login(a,d)&&e.replace("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:F.a.content,children:[Object(g.jsx)(I,{className:F.a.title,children:Object(g.jsx)("h1",{children:" Login"})}),Object(g.jsx)("div",{className:F.a.parentContainer,children:Object(g.jsx)(I,{className:F.a.container,style:{paddingTop:"20px",paddingBottom:"20px"},children:Object(g.jsxs)("form",{onSubmit:p,children:[Object(g.jsxs)("div",{className:F.a.inputCOntainer,children:[Object(g.jsx)("label",{htmlFor:"email",children:"E Mail"}),Object(g.jsx)(M,{id:"email",type:"email",placeholder:"E Mail",onChange:function(e){r(e.target.value)},value:a,required:!0})]}),Object(g.jsxs)("div",{className:F.a.inputCOntainer,children:[Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)(M,{id:"email",type:"password",placeholder:"Password",onChange:function(e){b(e.target.value)},value:d,required:!0})]}),Object(g.jsxs)("div",{className:F.a.actions,children:[Object(g.jsx)(B,{title:"Login",onClick:function(){},style:{marginRight:"10px"}}),Object(g.jsx)(B,{title:"Cancel",onClick:function(){},style:{marginRight:"10px"}})]})]})})})]})},D=function(){return Object(g.jsx)(T,{})},W=function(){return Object(g.jsx)("div",{})},X=function(){return Object(g.jsx)("div",{})},A=function(){return Object(g.jsx)("div",{})},K=n(31),Y=n.n(K),Z=function(e){var t=Object(c.useContext)(k);console.log(t.isLoggedIn);var n=t.isLoggedIn?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("li",{children:Object(g.jsx)(s.b,{to:"/posts/newPost",children:Object(g.jsx)(B,{title:"New Post",onClick:function(){},style:{width:"10vw"}})})}),Object(g.jsx)("li",{children:Object(g.jsx)(B,{title:"Sign Out",onClick:t.signOff,style:{width:"10vw"}})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("li",{children:Object(g.jsx)(s.b,{to:"/signup",children:Object(g.jsx)(B,{title:"Sign Up",onClick:t.signOff,style:{width:"10vw"}})})}),Object(g.jsx)("li",{children:Object(g.jsx)(s.b,{to:"/login",children:Object(g.jsx)(B,{title:"Login",onClick:t.signOff,style:{width:"10vw"}})})})]}),a=!!e.imageUrl?Object(g.jsx)("img",{className:Y.a.logo,src:e.imageUrl,alt:e.title}):Object(g.jsx)("span",{className:Y.a.logo,style:{display:"inline-block"},children:e.title});return Object(g.jsxs)("div",{className:Y.a.container,children:[Object(g.jsx)("div",{className:Y.a.containerLogo,children:Object(g.jsxs)(s.b,{to:"/",children:[" ",a]})}),Object(g.jsx)("h1",{children:" User Posts"}),Object(g.jsx)("div",{children:Object(g.jsx)("nav",{children:Object(g.jsx)("ul",{className:Y.a.containerNav,children:n})})})]})},z=n(32),G=n.n(z),H=function(e){return Object(g.jsx)("div",{className:G.a.container,onClick:e.onClose,children:Object(g.jsxs)("div",{className:G.a["modal-container"],onClick:function(e){return e.stopPropagation()},children:[Object(g.jsx)("div",{className:G.a["modal-header"],style:Object(j.a)({},e.headerStyle),children:e.header}),Object(g.jsx)("div",{style:Object(j.a)(Object(j.a)({},e.bodyStyle),{},{display:"flex",justifyContent:"center",alignItems:"center"}),className:G.a["modal-body"],children:e.children}),Object(g.jsx)("div",{className:G.a["modal-footer"],children:e.actions})]})})},Q=n(50),V=n.n(Q),$=function(e){return Object(g.jsx)("div",{onClick:e.onClose,className:V.a.backdrop})},ee=function(e){var t=Object(c.useContext)(k).error;return t&&t.message?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)($,{onClose:e.onClose}),Object(g.jsx)(H,{header:Object(g.jsx)("h1",{style:{color:"red",fontWeight:"bold",padding:"5px",backgroundColor:"rgb(226, 244, 245)",width:"100%"},children:"Some error occurred"}),actions:Object(g.jsx)(B,{title:"Close",onClick:e.onClose,style:{fontWeight:"bold"}}),headerStyle:{border:"2px solid red"},bodyStyle:{color:"red",border:"1px solid red"},onClose:e.onClose,children:Object(g.jsx)("p",{children:t.message.replace(/Firebase:/g,"")})})]}):null};var te=function(){var e=Object(c.useContext)(k),t=e.isLoggedIn?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(N.b,{path:"/posts/newPost",children:Object(g.jsx)(X,{})}),Object(g.jsx)(N.b,{path:"/posts/:id",children:Object(g.jsx)(A,{})})]}):null;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ee,{onClose:function(){return e.clearError()}}),Object(g.jsx)(Z,{title:"User Posts",imageUrl:"/blog.jfif"}),Object(g.jsxs)(N.d,{children:[Object(g.jsx)(N.b,{path:"/",exact:!0,children:Object(g.jsx)(N.a,{to:"/posts"})}),Object(g.jsx)(N.b,{path:"/signup",children:Object(g.jsx)(J,{})}),Object(g.jsx)(N.b,{path:"/login",children:Object(g.jsx)(D,{})}),Object(g.jsx)(N.b,{path:"/posts",exact:!0,children:Object(g.jsx)(W,{})}),t,Object(g.jsx)(N.b,{path:"**",children:Object(g.jsx)(N.a,{to:"/posts"})})]})]})};r.a.render(Object(g.jsx)(y,{children:Object(g.jsx)(s.a,{children:Object(g.jsx)(te,{})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.78a57230.chunk.js.map