(this["webpackJsonpuser-posts"]=this["webpackJsonpuser-posts"]||[]).push([[0],{17:function(e,t,n){e.exports={content:"SignupComponent_content__-xS3c",title:"SignupComponent_title__3Y18q",parentContainer:"SignupComponent_parentContainer__3pl2j",container:"SignupComponent_container__Nfpou",inputCOntainer:"SignupComponent_inputCOntainer__12q-9",input:"SignupComponent_input__1OX9u",actions:"SignupComponent_actions__3CL6e"}},31:function(e,t,n){e.exports={container:"Layout_container__3JcJZ",containerLogo:"Layout_containerLogo__3WdLM",containerNav:"Layout_containerNav__118kZ",logo:"Layout_logo__3iCfm"}},39:function(e,t,n){e.exports={inputContainer:"Input_inputContainer__2_irD",input:"Input_input__FrfsP"}},45:function(e,t,n){e.exports={card:"Card_card__fXxBI"}},46:function(e,t,n){e.exports={btn:"Button_btn__2OU2l"}},55:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(7),a=n(43),s=n.n(a),r=n(23),i=n(0),o=n.n(i),l=n(1),u=n(16),j=n(15),b=n(44),d=n(35),p=n(26),O=Object(b.a)({apiKey:"AIzaSyA0t-XHWc3AonmYat7_pEIiTxm99rNqEyI",authDomain:"user-posts-9df11.firebaseapp.com",databaseURL:"https://user-posts-9df11-default-rtdb.firebaseio.com",projectId:"user-posts-9df11",storageBucket:"user-posts-9df11.appspot.com",messagingSenderId:"70798554958",appId:"1:70798554958:web:a9ac5ebfd7d2ec5629101f"});Object(d.c)(O);var x=Object(p.b)();Object(p.c)(x,(function(e){e?(localStorage.getItem("user_token")||localStorage.setItem("user_token",e.accessToken),localStorage.getItem("user_id")||localStorage.setItem("user_id",e.uid)):(localStorage.getItem("user_token")&&localStorage.removeItem("user_token"),localStorage.getItem("user_id")||localStorage.removeItem("user_id"))}));var h=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(p.b)(),e.next=4,Object(p.a)(c,t,n);case 4:return a=e.sent,e.abrupt("return",a.user);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.code,e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(p.b)(),e.next=4,Object(p.d)(c,t,n);case 4:return a=e.sent,e.abrupt("return",a.user);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.code,e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(p.b)(),e.next=4,Object(p.e)(c);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.code,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),m=n(6),v={isLoggedIn:!1,token:"",uid:"",login:function(e,t){},signup:function(e,t){},signOff:function(){}},_=Object(c.createContext)(v),C=_.Provider,y=function(e){Object(c.useEffect)((function(){var e=localStorage.getItem("user_token");e&&b(e);var t=localStorage.getItem("user_id");t&&x(t),e&&s(!0)}),[]);var t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),i=Object(u.a)(r,2),j=i[0],b=i[1],d=Object(c.useState)(""),p=Object(u.a)(d,2),O=p[0],x=p[1],v=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t,n);case 2:c=e.sent,s(!0),b(c.accessToken),x(c.uid);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,n);case 2:c=e.sent,s(!0),b(c.accessToken),x(c.uid);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:s(!1),b("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(C,{value:{isLoggedIn:a,login:v,signUp:_,token:j,uid:O,signOff:y},children:e.children})},w=_,k=(n(55),n(11)),N=n(45),S=n.n(N),I=function(e){var t="".concat(S.a.card," ").concat(e.className?e.className:"");return Object(m.jsx)("div",{className:t,style:Object(j.a)({},e.style),children:e.children})},L=n(17),P=n.n(L),U=n(39),F=n.n(U),E=function(e){var t="".concat(F.a.input," ").concat(e.className),n=Object(m.jsx)("input",Object(j.a)({style:Object(j.a)({},e.style),id:e.id,className:t,value:e.value,name:e.name,onChange:e.onChange},e));return e.isRef&&(n=Object(m.jsx)("input",Object(j.a)({style:Object(j.a)({},e.style),id:e.id,className:t,name:e.name,ref:e.inputRef},e))),Object(m.jsxs)("div",{className:F.a.inputContainer,children:[Object(m.jsx)("label",{htmlFor:e.id,children:e.title}),n]})},q=n(46),R=n.n(q),B=function(e){var t="".concat(e.className," ").concat(R.a.btn),n=Object(m.jsx)("button",Object(j.a)(Object(j.a)({className:t,onClick:e.onClick,style:Object(j.a)({},e.style)},e),{},{children:e.title}));return e.isLink&&(n=Object(m.jsx)(r.b,Object(j.a)(Object(j.a)({to:e.to,className:t,style:Object(j.a)({},e.style)},e),{},{children:e.title}))),n},T=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(k.g)(),r=Object(c.useState)(""),i=Object(u.a)(r,2),j=i[0],b=i[1],d=Object(c.useContext)(w),p=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d.signUp(n,j),s.replace("/");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:P.a.content,children:[Object(m.jsx)(I,{className:P.a.title,children:Object(m.jsx)("h1",{children:" Sign Up"})}),Object(m.jsx)("div",{className:P.a.parentContainer,children:Object(m.jsx)(I,{className:P.a.container,style:{paddingTop:"20px",paddingBottom:"20px"},children:Object(m.jsxs)("form",{onSubmit:p,children:[Object(m.jsxs)("div",{className:P.a.inputCOntainer,children:[Object(m.jsx)("label",{htmlFor:"email",children:"E Mail"}),Object(m.jsx)(E,{id:"email",type:"email",placeholder:"E Mail",onChange:function(e){a(e.target.value)},value:n,required:!0})]}),Object(m.jsxs)("div",{className:P.a.inputCOntainer,children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)(E,{id:"email",type:"password",placeholder:"Password",onChange:function(e){b(e.target.value)},value:j,required:!0})]}),Object(m.jsxs)("div",{className:P.a.actions,children:[Object(m.jsx)(B,{title:"Sign up",onClick:function(){},style:{marginRight:"10px"}}),Object(m.jsx)(B,{title:"Cancel",onClick:function(){},style:{marginRight:"10px"}})]})]})})})]})},M=function(){return Object(m.jsx)(T,{})},D=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(k.g)(),r=Object(c.useContext)(w),i=Object(c.useState)(""),j=Object(u.a)(i,2),b=j[0],d=j[1],p=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r.login(n,b),s.replace("/");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:P.a.content,children:[Object(m.jsx)(I,{className:P.a.title,children:Object(m.jsx)("h1",{children:" Login"})}),Object(m.jsx)("div",{className:P.a.parentContainer,children:Object(m.jsx)(I,{className:P.a.container,style:{paddingTop:"20px",paddingBottom:"20px"},children:Object(m.jsxs)("form",{onSubmit:p,children:[Object(m.jsxs)("div",{className:P.a.inputCOntainer,children:[Object(m.jsx)("label",{htmlFor:"email",children:"E Mail"}),Object(m.jsx)(E,{id:"email",type:"email",placeholder:"E Mail",onChange:function(e){a(e.target.value)},value:n,required:!0})]}),Object(m.jsxs)("div",{className:P.a.inputCOntainer,children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)(E,{id:"email",type:"password",placeholder:"Password",onChange:function(e){d(e.target.value)},value:b,required:!0})]}),Object(m.jsxs)("div",{className:P.a.actions,children:[Object(m.jsx)(B,{title:"Login",onClick:function(){},style:{marginRight:"10px"}}),Object(m.jsx)(B,{title:"Cancel",onClick:function(){},style:{marginRight:"10px"}})]})]})})})]})},J=function(){return Object(m.jsx)(D,{})},A=function(){return Object(m.jsx)("div",{})},X=function(){return Object(m.jsx)("div",{})},W=function(){return Object(m.jsx)("div",{})},Y=n(31),Z=n.n(Y),z=function(e){var t=Object(c.useContext)(w);console.log(t.isLoggedIn);var n=t.isLoggedIn?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/posts/newPost",children:Object(m.jsx)(B,{title:"New Post",onClick:function(){},style:{width:"10vw"}})})}),Object(m.jsx)("li",{children:Object(m.jsx)(B,{title:"Sign Out",onClick:t.signOff,style:{width:"10vw"}})})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/signup",children:Object(m.jsx)(B,{title:"Sign Up",onClick:t.signOff,style:{width:"10vw"}})})}),Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/login",children:Object(m.jsx)(B,{title:"Login",onClick:t.signOff,style:{width:"10vw"}})})})]}),a=!!e.imageUrl?Object(m.jsx)("img",{className:Z.a.logo,src:e.imageUrl,alt:e.title}):Object(m.jsx)("span",{className:Z.a.logo,style:{display:"inline-block"},children:e.title});return Object(m.jsxs)("div",{className:Z.a.container,children:[Object(m.jsx)("div",{className:Z.a.containerLogo,children:Object(m.jsxs)(r.b,{to:"/",children:[" ",a]})}),Object(m.jsx)("h1",{children:" User Posts"}),Object(m.jsx)("div",{children:Object(m.jsx)("nav",{children:Object(m.jsx)("ul",{className:Z.a.containerNav,children:n})})})]})};var H=function(){var e=Object(c.useContext)(w).isLoggedIn?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(k.b,{path:"/posts/newPost",children:Object(m.jsx)(X,{})}),Object(m.jsx)(k.b,{path:"/posts/:id",children:Object(m.jsx)(W,{})})]}):null;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(z,{title:"User Posts",imageUrl:"/blog.jfif"}),Object(m.jsxs)(k.d,{children:[Object(m.jsx)(k.b,{path:"/",exact:!0}),Object(m.jsx)(k.b,{path:"/signup",children:Object(m.jsx)(M,{})}),Object(m.jsx)(k.b,{path:"/login",children:Object(m.jsx)(J,{})}),Object(m.jsx)(k.b,{path:"/posts",children:Object(m.jsx)(A,{})}),e,Object(m.jsx)(k.b,{path:"**",children:Object(m.jsx)(k.a,{to:"/"})})]})]})};s.a.render(Object(m.jsx)(y,{children:Object(m.jsx)(r.a,{children:Object(m.jsx)(H,{})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.f352f63b.chunk.js.map