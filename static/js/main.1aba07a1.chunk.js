(this["webpackJsonpuser-posts"]=this["webpackJsonpuser-posts"]||[]).push([[0],{100:function(e,t,n){e.exports={itemContainer:"CategoryItem_itemContainer__fggWs",active:"CategoryItem_active__Vj8o5",container:"CategoryItem_container__3VW1M"}},143:function(e,t,n){e.exports={card:"Card_card__1Z-cT"}},145:function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__39e-y"}},159:function(e,t,n){},162:function(e,t,n){},24:function(e,t,n){e.exports={contentContainer:"ViewPost_contentContainer__1WpRb",tagLabel:"ViewPost_tagLabel__-mL1O",content:"ViewPost_content__3NCCS",title:"ViewPost_title__1qqBf",parentContainer:"ViewPost_parentContainer__1x6UI",categoryContainer:"ViewPost_categoryContainer__JVyBE",container:"ViewPost_container__t3el3",textLabel:"ViewPost_textLabel__3SXGv",inputContainer:"ViewPost_inputContainer__3jvNY",actions:"ViewPost_actions__2-ICV",articleLabel:"ViewPost_articleLabel__35YBK",btnPost:"ViewPost_btnPost__32GUF",post:"ViewPost_post__2hWvU"}},258:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),c=n(63),s=n.n(c),i=n(23),o=n(0),l=n.n(o),u=n(1),d=n(11),j=n(12),p=n(142),b=n(15),f=n(67),O=n(44),x=Object(p.a)({apiKey:"AIzaSyA0t-XHWc3AonmYat7_pEIiTxm99rNqEyI",authDomain:"user-posts-9df11.firebaseapp.com",databaseURL:"https://user-posts-9df11-default-rtdb.firebaseio.com",projectId:"user-posts-9df11",storageBucket:"user-posts-9df11.appspot.com",messagingSenderId:"70798554958",appId:"1:70798554958:web:a9ac5ebfd7d2ec5629101f"}),h=Object(b.f)(x);function m(){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.g)(Object(b.b)(h,"categories")),e.next=3,Object(b.e)(t);case 3:if(0!=(n=e.sent).size){e.next=8;break}return e.abrupt("return",[]);case 8:return r=[],n.forEach((function(e){r.push(Object(j.a)({id:e.id},e.data()))})),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.c)(Object(b.d)(h,"categories",t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.c)(Object(b.d)(h,"users/".concat(t,"/posts/").concat(n)));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.b)(h,"categories"),e.next=3,Object(b.e)(n);case 3:if(0!=e.sent.size){e.next=11;break}return e.next=7,Object(b.a)(Object(b.b)(h,"categories"),{name:t});case 7:return r=e.sent,e.abrupt("return",{id:r.id,name:t});case 11:return a=Object(b.g)(n,Object(b.j)("name","==",t)),e.next=14,Object(b.e)(a);case 14:if(0!=(c=e.sent).size){e.next=22;break}return e.next=18,Object(b.a)(Object(b.b)(h,"categories"),{name:t});case 18:return s=e.sent,e.abrupt("return",{id:s.id,name:t});case 22:return c.forEach((function(e){i=e.id})),e.abrupt("return",{id:i,name:t});case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(b.b)(h,"users/".concat(t,"/posts")),e.next=3,Object(b.a)(Object(b.b)(h,"users/".concat(t,"/posts")),n);case 3:return r=e.sent,e.abrupt("return",r.id);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(b.d)(h,"users/".concat(t,"/posts/").concat(n)),e.next=3,Object(b.h)(a,r);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.h)(Object(b.d)(h,"users",t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.i)(Object(b.d)(h,"users",t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return U.apply(this,arguments)}function U(){return(U=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.b)(h,"users"),e.next=3,Object(b.e)(t);case 3:return n=e.sent,r=n.docs.map((function(e){return Object(j.a)({id:e.id},e.data())})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.b)(h,"users/".concat(t,"/posts")),e.next=3,Object(b.e)(n);case 3:return r=e.sent,a=r.docs.map((function(e){return Object(j.a)({id:e.id},e.data())})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=Object(O.b)();Object(O.c)(q,(function(e){e?(localStorage.getItem("user_token")||localStorage.setItem("user_token",e.accessToken),localStorage.getItem("user_id")||localStorage.setItem("user_id",e.uid)):(localStorage.getItem("user_token")&&localStorage.removeItem("user_token"),localStorage.getItem("user_id")||localStorage.removeItem("user_id"))}));var B=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(O.b)(),e.next=4,Object(O.a)(r,t,n);case 4:return a=e.sent,e.abrupt("return",a.user);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){if(null!=t){var a=Object(f.b)(),c=t.name.split(".")[(t.name+"").split(".").length-1],s=Object(f.c)(a,"".concat(n,"/").concat(t.name)),i={contentType:"image/".concat(c)},o=Object(f.d)(s,t,i);o.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){switch(e.code){case"storage/unauthorized":case"storage/canceled":case"storage/unknown":r(e)}}),(function(){Object(f.a)(o.snapshot.ref).then((function(t){console.log("File available at",t),e(t)}))}))}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(O.b)(),e.next=4,Object(O.d)(r,t,n);case 4:return a=e.sent,e.abrupt("return",a.user);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0.code,e.t0.message),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(O.b)(),e.next=4,Object(O.e)(r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.code,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),W=n(3),Y={isLoggedIn:!1,token:"",uid:"",error:{code:"",message:""},confirm:{message:""},callSetError:function(e){},login:function(e,t){},signup:function(e,t){},signOff:function(){},callSetConfirm:function(e){},clearConfirm:function(){},clearError:function(){}},G=Object(r.createContext)(Y),J=G.Provider,z=function(e){Object(r.useEffect)((function(){var e=localStorage.getItem("user_token");e&&j(e);var t=localStorage.getItem("user_id");t&&O(t),e&&c(!0)}),[]);var t=Object(r.useState)(!1),n=Object(d.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(d.a)(s,2),o=i[0],j=i[1],p=Object(r.useState)(""),b=Object(d.a)(p,2),f=b[0],O=b[1],x=Object(r.useState)(),h=Object(d.a)(x,2),m=h[0],g=h[1],v=Object(r.useState)(""),_=Object(d.a)(v,2),C=_[0],y=_[1];Object(r.useEffect)((function(){localStorage.setItem("user_token",o),localStorage.setItem("user_id",f)}),[o]);var w=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,n);case 2:if((r=e.sent).code){e.next=10;break}return c(!0),j(r.accessToken),O(r.uid),e.abrupt("return",r);case 10:return g(r),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,n);case 2:if((r=e.sent).code){e.next=10;break}return c(!0),j(r.accessToken),O(r.uid),e.abrupt("return",r);case 10:return g(r),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:c(!1),j("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(J,{value:{isLoggedIn:a,login:w,signUp:k,callSetError:function(e){return g(e)},token:o,uid:f,error:m,confirm:{message:C},clearConfirm:function(){y("")},callSetConfirm:function(e){return y(e)},signOff:N,clearError:function(){g(null)}},children:e.children})},X=G,Q=n(19),K=n(20),Z=n(101),$=Object(Z.b)({name:"userAndPosts",initialState:{categories:[],users:[],posts:[]},reducers:{loadCategories:function(e,t){e.categories=t.payload},addCategories:function(e,t){var n=t.payload,r=e.categories.map((function(e){return e.id})),a=n.filter((function(e){return!r.includes(e.id)}));e.categories=[].concat(Object(K.a)(e.categories),Object(K.a)(a))},deleteCategories:function(e,t){var n=t.payload.map((function(e){return e.id}));e.categories=e.categories.filter((function(e){return!n.includes(e.id)}))},deletePosts:function(e,t){var n=t.payload.uid,r=t.payload.id;e.posts=e.posts.filter((function(e){return!(e.uid===n&&e.id===r)}))},addPost:function(e,t){e.posts=[].concat(Object(K.a)(e.posts),[t.payload])},editPost:function(e,t){e.posts=e.posts.map((function(e){return e.id===t.payload.id?t.payload:e}))},loadUsers:function(e,t){e.users=t.payload},addUser:function(e,t){e.users=[].concat(Object(K.a)(e.users),[t.payload])},loadPosts:function(e,t){e.posts=[].concat(Object(K.a)(e.posts),Object(K.a)(t.payload))}}}),ee=$.actions,te=Object(Z.a)({reducer:{userPosts:$.reducer},devTools:!0}),ne=n(8),re=(n(159),n(21)),ae=n(143),ce=n.n(ae),se=function(e){var t="".concat(ce.a.card," ").concat(e.className?e.className:"");return Object(W.jsx)("div",{className:t,style:Object(j.a)({},e.style),children:e.children})},ie=n(26),oe=n.n(ie),le=n(97),ue=n.n(le),de=function(e){var t="".concat(ue.a.input," ").concat(e.className),n=Object(W.jsx)("input",{style:Object(j.a)({},e.style),id:e.id,className:t,value:e.value,name:e.name,onChange:e.onChange,type:e.type,required:e.required});return e.isRef&&(n=Object(W.jsx)("input",{style:Object(j.a)({},e.style),id:e.id,className:t,name:e.name,ref:e.inputRef,type:e.type,placeholder:e.placeholder,required:e.required})),Object(W.jsxs)("div",{className:ue.a.inputContainer,style:Object(j.a)({},e.inputContainerStyle||null),children:[Object(W.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(W.jsx)("label",{htmlFor:e.id,style:Object(j.a)({},e.inputContainerLabelStyle),placeholder:e.placeholder,children:e.title})}),n]})},je=n(82),pe=n.n(je),be=function(e){"".concat(e.className?e.className:""," ").concat(pe.a.btn);var t=Object(W.jsx)("button",Object(j.a)(Object(j.a)({className:"".concat(e.className?e.className:""," ").concat(pe.a.btn),onClick:e.onClick,style:Object(j.a)({},e.style)},e),{},{children:e.title}));return e.isLink&&(t=Object(W.jsx)(i.b,Object(j.a)(Object(j.a)({to:e.to,className:"".concat(e.className?e.className:""," ").concat(pe.a.btn),style:Object(j.a)({},e.style)},e),{},{children:e.title}))),t},fe=n(83),Oe=n.n(fe),xe=function(e){var t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],c=n[1],s=new FileReader;s.addEventListener("load",(function(){c(s.result)}),!1);var i=Object(r.useRef)();return Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{className:Oe.a["image-container"],children:a&&Object(W.jsx)("img",{src:a,alt:e.imageTitle,title:e.imageTitle,className:Oe.a.image})}),Object(W.jsx)("input",{type:"file",accept:".png,.jpeg,.jpg,.bmp",style:{display:"none"},ref:i,onChange:function(t){t.target.files[0]&&(e.onFileReceived(t.target.files[0]),t.target.files[0]&&s.readAsDataURL(t.target.files[0]))}}),Object(W.jsxs)("div",{className:Oe.a["button-container"],children:[Object(W.jsx)("label",{children:e.imageTitle}),Object(W.jsx)(be,{title:"Upload",onClick:function(){return i.current.click()},type:"button"})]})]})},he=function(){var e=Object(Q.b)(),t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),i=Object(d.a)(s,2),o=i[0],j=i[1],p=Object(re.g)(),b=Object(r.useState)(""),f=Object(d.a)(b,2),O=f[0],x=f[1],h=Object(r.useState)(""),m=Object(d.a)(h,2),g=m[0],v=m[1],_=Object(r.useContext)(X),C=function(){var t=Object(u.a)(l.a.mark((function t(n){var r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=2,t.next=5,_.signUp(a,O);case 5:r=t.sent,t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(2),alert("signup"),_.callSetError(t.t0),t.abrupt("return");case 13:return t.prev=13,t.next=16,T(r.uid,{name:g});case 16:o||e(ee.addUser({id:r.uid,name:g,profileImageUrl:null})),r&&p.replace("/"),t.next=26;break;case 20:return t.prev=20,t.t1=t.catch(13),alert("addpropfile"),_.callSetError(t.t1),r&&p.replace("/"),t.abrupt("return");case 26:return t.prev=26,t.next=29,V(o,"".concat(r.uid,"/images"));case 29:c=t.sent,e(ee.addUser({id:r.uid,name:g,profileImageUrl:c})),r&&p.replace("/"),t.next=40;break;case 34:return t.prev=34,t.t2=t.catch(26),alert("profile"),_.callSetError(t.t2),r&&p.replace("/"),t.abrupt("return");case 40:if(!c){t.next=52;break}return t.prev=41,t.next=44,I(r.uid,{profileImageUrl:c});case 44:r&&p.replace("/"),t.next=52;break;case 47:t.prev=47,t.t3=t.catch(41),alert(),_.callSetError(t.t3),r&&p.replace("/");case 52:case"end":return t.stop()}}),t,null,[[2,8],[13,20],[26,34],[41,47]])})));return function(e){return t.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:oe.a.content,children:[Object(W.jsx)(se,{className:oe.a.title,children:Object(W.jsx)("h1",{children:" Sign Up"})}),Object(W.jsx)("div",{className:oe.a.parentContainer,children:Object(W.jsx)(se,{className:oe.a.container,style:{paddingBottom:"20px"},children:Object(W.jsxs)("form",{onSubmit:C,children:[Object(W.jsx)("div",{className:oe.a.inputContainer,children:Object(W.jsx)(de,{id:"name",type:"name",placeholder:"Name",onChange:function(e){v(e.target.value)},value:g,title:"Name",inputContainerLabelStyle:{paddingTop:"10px"},required:!0})}),Object(W.jsx)("div",{className:oe.a.inputContainer,children:Object(W.jsx)(de,{id:"email",type:"email",placeholder:"E Mail",onChange:function(e){c(e.target.value)},value:a,title:"E Mail",inputContainerLabelStyle:{paddingTop:"10px"},required:!0})}),Object(W.jsx)("div",{className:oe.a.inputContainer,children:Object(W.jsx)(de,{id:"password",type:"password",placeholder:"Password",onChange:function(e){x(e.target.value)},value:O,title:"Password",required:!0})}),Object(W.jsx)("div",{className:oe.a.imageContainer,children:Object(W.jsx)(xe,{imageTitle:"Profile image",onFileReceived:function(e){j(e)}})}),Object(W.jsxs)("div",{className:oe.a.actions,children:[Object(W.jsx)(be,{title:"Sign up",onClick:function(){},style:{marginRight:"10px"}}),Object(W.jsx)(be,{title:"Cancel",onClick:function(){_.clearError(),p.replace("/")},style:{marginRight:"10px"}})]})]})})})]})},me=function(){return Object(W.jsx)(he,{})},ge=n(6),ve=function(){var e,t=Object(re.g)(),n=Object(r.useState)(""),a=Object(d.a)(n,2),c=a[0],s=a[1],i=Object(r.useContext)(X),o=Object(r.useState)(""),j=Object(d.a)(o,2),p=j[0],b=j[1],f=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,i.login(c,p);case 3:e.sent&&t.replace("/");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:oe.a.content,children:[Object(W.jsx)(se,{className:oe.a.title,children:Object(W.jsx)("h1",{children:" Login"})}),Object(W.jsx)("div",{className:oe.a.parentContainer,children:Object(W.jsx)(se,{className:oe.a.container,style:{paddingBottom:"20px"},children:Object(W.jsxs)("form",{onSubmit:f,children:[Object(W.jsx)(de,{id:"email",type:"email",placeholder:"E Mail",onChange:function(e){s(e.target.value)},value:c,title:"E Mail",inputContainerLabelStyle:{paddingTop:"10px"},required:!0}),Object(W.jsx)(de,(e={id:"email",type:"password",placeholder:"Password",title:"Password"},Object(ge.a)(e,"type","password"),Object(ge.a)(e,"onChange",(function(e){b(e.target.value)})),Object(ge.a)(e,"value",p),Object(ge.a)(e,"inputContainerLabelStyle",{paddingTop:"10px"}),Object(ge.a)(e,"required",!0),e)),Object(W.jsxs)("div",{className:oe.a.actions,children:[Object(W.jsx)(be,{title:"Login",onClick:function(){},style:{marginRight:"10px"}}),Object(W.jsx)(be,{title:"Cancel",type:"button",onClick:function(){i.clearError(),t.replace("/")},style:{marginRight:"10px"}})]})]})})})]})},_e=function(){return Object(W.jsx)(ve,{})},Ce=n(24),ye=n.n(Ce),we=n(57),ke=n.n(we),Ne=function(e){return Object(W.jsx)("div",{className:ke.a.container,onClick:e.onClose,children:Object(W.jsxs)("div",{className:ke.a["modal-container"],onClick:function(e){return e.stopPropagation()},children:[Object(W.jsx)("div",{className:ke.a["modal-header"],style:Object(j.a)({},e.headerStyle),children:e.header}),Object(W.jsx)("div",{style:Object(j.a)(Object(j.a)({},e.bodyStyle),{},{display:"flex",justifyContent:"center",alignItems:"center"}),className:ke.a["modal-body"],children:e.children}),Object(W.jsx)("div",{className:ke.a["modal-footer"],children:e.actions})]})})},Se=n(145),Pe=n.n(Se),Ee=function(e){return Object(W.jsx)("div",{onClick:e.onClose,className:Pe.a.backdrop})},Te=function(e){var t=Object(r.useContext)(X),n=t.confirm,a=t.clearConfirm;return n&&n.message?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Ee,{onClose:a}),Object(W.jsx)(Ne,{header:Object(W.jsx)("h1",{style:{color:"white",fontWeight:"bold",padding:"5px",width:"100%"},children:"Are you Sure?"}),actions:Object(W.jsxs)("div",{children:[Object(W.jsx)(be,{title:e.confirmTitle,onClick:e.onConfirm,style:{fontWeight:"bold",color:"red"}}),Object(W.jsx)(be,{title:"Close",onClick:a,style:{fontWeight:"bold"}})]}),bodyStyle:{color:"red"},onClose:a,children:Object(W.jsx)("p",{style:{backgroundColor:"white",padding:"10px",borderRadius:"5px",border:"2px solid black"},children:n.message})})]}):null},Le=function(e){return e.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))},Ie=function(e){var t=document.createElement("textarea");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue},Ae=function(e,t){var n=[],r=t.filter((function(t){return t.id!==e})),a=t.find((function(t){return t.id===e}));return 0===r.length?a.tags:(a&&a.tags&&a.tags.length>0&&a.tags.forEach((function(e){var t=!0;r.forEach((function(n){var r=n.tags.map((function(e){return e.id}));t=t&&!r.includes(e.id)})),t&&n.push(e)})),n)},Re=n(99),Ue=n.n(Re),De=Object(r.forwardRef)((function(e,t){var n="".concat(Ue.a.input," ").concat(e.className),r=Object(W.jsx)("textarea",Object(j.a)(Object(j.a)({style:Object(j.a)({},e.style),id:e.id,className:n},e),{},{children:e.value}));return t&&(r=Object(W.jsx)("textarea",Object(j.a)({style:Object(j.a)({},e.style),id:e.id,className:n,ref:t},e))),Object(W.jsxs)("div",{className:Ue.a.inputContainer,style:Object(j.a)({},e.inputContainerStyle||null),children:[Object(W.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(W.jsx)("label",{htmlFor:e.id,style:Object(j.a)({},e.inputContainerLabelStyle),children:e.title})}),r]})})),Fe=function(e){var t,n=Object(r.useRef)(),a=Object(r.useRef)(),c=Object(re.h)(),s=new URLSearchParams(c.search).get("deleteAllowed");s&&(t="true"===s);var i=Object(Q.b)(),o=Object(re.g)(),d=Object(r.useContext)(X),j=Object(re.i)().postId,p=Object(Q.c)((function(e){return e.userPosts.categories})),b=Object(Q.c)((function(e){return e.userPosts.posts})),f=b.find((function(e){return e.id===j}));Object(r.useEffect)((function(){f&&(n.current.innerHTML=Ie(f.article))}),[f]);var O=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.clearConfirm(),(t=Ae(f.id,b)).forEach(function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t.id);case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(ee.deleteCategories(t)),e.next=6,C(f.uid,f.id);case 6:n=e.sent,console.log(n),i(ee.deletePosts({uid:f.uid,id:f.id})),d.clearConfirm(),o.replace("/");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(!f)return null;if(!p)return null;if(!b)return null;var x=f.tags.map((function(e){return e.id})),h=p.filter((function(e){return x.includes(e.id)}));return f?Object(W.jsxs)("div",{className:ye.a.contentContainer,children:[t&&Object(W.jsx)(Te,{confirmTitle:"Delete",onConfirm:O}),Object(W.jsxs)("div",{className:ye.a.content,children:[Object(W.jsx)(se,{className:ye.a.title,children:Object(W.jsx)("h1",{children:"View Post"})}),Object(W.jsx)("div",{className:ye.a.parentContainer,children:Object(W.jsx)(se,{className:ye.a.container,style:{paddingBottom:"20px"},children:Object(W.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(W.jsxs)("div",{style:{display:"flex",flexGrow:1,justifyContent:"space-between",width:"100%"},children:[Object(W.jsxs)("div",{className:ye.a.inputContainer,children:[Object(W.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(W.jsx)("label",{children:"Title"})}),Object(W.jsx)("label",{className:ye.a.textLabel,children:f.title})]}),Object(W.jsxs)("div",{className:ye.a.categoryContainer,children:[Object(W.jsx)("div",{className:ye.a.labelContainer,children:Object(W.jsx)("div",{style:{display:"flex"},children:Object(W.jsx)("label",{children:"Categories"})})}),Object(W.jsx)("div",{className:ye.a.tagsContainer,children:h.map((function(e){return Object(W.jsx)("label",{className:ye.a.tagLabel,children:e.name},e.id)}))})]})]}),Object(W.jsxs)("div",{className:ye.a.inputContainer,children:[Object(W.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(W.jsx)("label",{children:"Article"})}),Object(W.jsx)("div",{style:{overflowY:"auto",maxHeight:"70vh"},children:Object(W.jsx)("div",{className:ye.a.articleLabel,ref:n,children:f.title})})]}),Object(W.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(a.current.value)},style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end"},children:[Object(W.jsx)("div",{className:ye.a.inputContainer,children:Object(W.jsx)(De,{id:"comments",placeholder:"Enter comments for the post",title:"Comments",required:!0,rows:6,ref:a,className:ye.a.post,cols:80})}),Object(W.jsx)(be,{className:ye.a.btnPost,title:"Post",style:{marginRight:"10px"}})]}),Object(W.jsxs)("div",{className:ye.a.actions,children:[t&&Object(W.jsx)(be,{title:"Edit",onClick:function(){o.push("/posts/edit/".concat(j))},style:{marginRight:"10px"}}),t&&Object(W.jsx)(be,{title:"Delete",onClick:function(){d.callSetConfirm('Do you want to delete the post with title "'.concat(f.title,'"'))},style:{marginRight:"10px",color:"red"}}),Object(W.jsx)(be,{title:"Cancel",type:"button",onClick:function(){o.goBack()},style:{marginRight:"10px"}})]})]})})})]})]}):Object(W.jsx)(se,{style:{height:"50%",width:"50%",margin:"auto"},children:Object(W.jsx)("div",{style:{margin:"auto",height:"100%",display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center"},children:Object(W.jsx)("h2",{style:{width:"50%"},children:"Post not found"})})})},qe=function(e){return Object(W.jsx)(Fe,{})},Be=n(66),Ve=n.n(Be),He=n(100),Me=n.n(He),We=function(e){console.log("item rerendered");var t=Object(re.h)(),n=new URLSearchParams(t.search).get("catId");console.log("catId",n);var r=Object(re.g)();return console.log(e.isActive),Object(W.jsx)("div",{className:"".concat(Me.a.itemContainer," ").concat(e.isActive?Me.a.active:""),onClick:function(e){r.push("/posts?catId=".concat(e))}.bind(undefined,e.id),children:Object(W.jsx)("h4",{children:e.name})})},Ye=function(){var e=Object(re.g)(),t=Object(re.h)(),n=new URLSearchParams(t.search).get("catId");console.log(n);var r=Object(Q.c)((function(e){return e.userPosts.categories}));return Object(W.jsxs)("div",{className:Ve.a.container,children:[Object(W.jsx)("div",{className:Ve.a.catgories,children:Object(W.jsx)("h3",{children:"Categories"})}),Object(W.jsx)("div",{className:"".concat(Ve.a.ItemContainer," ").concat(n?"":Ve.a.active),onClick:function(){e.replace("/posts")},children:Object(W.jsx)("h4",{children:"All"})}),r.map((function(e){return Object(W.jsx)(We,{isActive:n==e.id,id:e.id,name:e.name},e.id)}))]})},Ge=n(43),Je=n.n(Ge),ze=(n(161),function(e){var t=Object(re.g)(),n=Object(r.useRef)(),a=Object(r.useContext)(X);Object(r.useEffect)((function(){n.current.innerHTML=Ie(e.article)}),[]);var c=Object(Q.c)((function(e){return e.userPosts.categories})),s=function(e,t){var n=e.map((function(e){return e.id}));return t.filter((function(e){return n.includes(e.id)}))}(e.tags,c),i=Object(Q.c)((function(e){return e.userPosts.users})).find((function(t){return t.id==e.uid}));return Object(W.jsxs)(W.Fragment,{children:[e.deleteAllowed&&Object(W.jsx)(Te,{confirmTitle:"Delete",onConfirm:e.onConfirm.bind(undefined,e.uid,e.id)}),Object(W.jsxs)("div",{style:{display:"flex",flexDirection:"column",position:"relative",flexGrow:0,marginTop:"30px",cursor:"pointer",backgroundColor:"white"},onClick:function(){t.push("posts/view/".concat(e.id,"?deleteAllowed=").concat(e.deleteAllowed))},children:[Object(W.jsxs)("h2",{children:[e.title,e.deleteAllowed&&Object(W.jsx)("span",{className:Je.a.editAction,onClick:function(n){n.stopPropagation(),t.push("/posts/edit/".concat(e.id))},title:"Edit",style:{position:"absolute",cursor:"pointer",right:"20px",color:"rgb(190, 211, 212)"},children:Object(W.jsx)("i",{class:"far fa-edit ".concat(Je.a.edit)})}),e.deleteAllowed&&Object(W.jsx)("span",{className:Je.a.deleteAction,onClick:function(t){t.stopPropagation(),a.callSetConfirm('Do you want to delete the post with title "'.concat(e.title,'"'))},title:"Delete",style:{position:"absolute",cursor:"pointer",right:0,color:"rgb(190, 211, 212)"},children:Object(W.jsx)("i",{className:"far fa-trash-alt ".concat(Je.a.delete)})})]}),Object(W.jsxs)("div",{className:Je.a.container,children:[Object(W.jsx)("hr",{}),Object(W.jsx)("ul",{children:s.map((function(e){return Object(W.jsx)("li",{children:e.name},e.id)}))}),Object(W.jsx)("div",{ref:n,className:Je.a.article}),Object(W.jsxs)("div",{className:Je.a.author,children:[Object(W.jsx)("span",{className:Je.a.user,children:i.name}),Object(W.jsx)("span",{children:"--"})]})]})]})]})}),Xe=function(e){var t=Object(Q.b)(),n=Object(r.useContext)(X),a=function(){var r=Object(u.a)(l.a.mark((function r(a,c){var s,i;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(s=Ae(c,e.posts)).forEach(function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t.id);case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(ee.deleteCategories(s)),r.next=5,C(a,c);case 5:i=r.sent,console.log(i),t(ee.deletePosts({uid:a,id:c})),n.clearConfirm();case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}();return Object(W.jsx)("div",{style:{width:"100%",display:"flex",paddingTop:"20px",flexDirection:"row",justifyContent:"space-evenly",alignItems:"flex-start",gap:"20px, 30px",flexWrap:"wrap"},children:e.posts.map((function(e){return Object(W.jsx)(ze,{article:e.article,deleteAllowed:n.uid===e.uid,uid:e.uid,id:e.id,title:e.title,tags:e.tags,onConfirm:a},e.id)}))})},Qe=function(e){var t=Object(re.h)(),n=new URLSearchParams(t.search).get("catId"),r=Object(Q.c)((function(e){return e.userPosts.posts})),a=r;return n&&(a=r.filter((function(e){return e.tags.map((function(e){return e.id})).includes(n)}))),console.log("posts",a),Object(W.jsxs)("div",{style:{flex:1,display:"flex"},children:[Object(W.jsx)(Ye,{}),Object(W.jsx)(Xe,{posts:a})]})},Ke=function(){return Object(W.jsx)(Qe,{})},Ze=n(53),$e=n.n(Ze),et=n(146),tt=n.n(et),nt=(n(162),n(84)),rt=n.n(nt),at=function(e){var t=a.a.createRef(),n=Object(r.useState)({tags:e.tags||[{id:1,name:"Apples"},{id:2,name:"Pears"}],suggestions:e.suggestions||[{id:3,name:"Bananas"},{id:4,name:"Mangos"},{id:5,name:"Lemons"},{id:6,name:"Apricots"}]}),c=Object(d.a)(n,2),s=c[0],i=c[1];return Object(W.jsxs)("div",{className:rt.a.container,children:[Object(W.jsx)("div",{className:rt.a.labelContainer,children:Object(W.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(W.jsx)("label",{children:e.title})})}),Object(W.jsx)(tt.a,{placeholderText:e.placeholderText||"Enter a value",ref:t,minQueryLength:1,tags:s.tags,suggestions:s.suggestions,onDelete:function(t){var n=s.tags.slice(0);n.splice(t,1),i((function(e){return Object(j.a)(Object(j.a)({},e),{},{tags:Object(K.a)(n)})})),e.onTagsChanged(n)},allowNew:!0,onAddition:function(t){var n=[].concat(s.tags,t);i((function(e){return Object(j.a)(Object(j.a)({},e),{},{tags:Object(K.a)(n)})})),e.onTagsChanged(n)},className:rt.a.reactTags})]})},ct=n(41),st=n(147),it=n(148),ot=n.n(it),lt=n(81),ut=n.n(lt),dt=(n(257),n(85)),jt=n.n(dt),pt=function(e){var t="",n=(Object(r.useRef)(),Object(r.useState)((function(){return ct.EditorState.createEmpty()}))),a=Object(d.a)(n,2),c=a[0],s=a[1],i=e.initHtml;Object(r.useEffect)((function(){var e=ut()(i||"");if(e){var n=ct.ContentState.createFromBlockArray(e.contentBlocks);t=ct.EditorState.createWithContent(n),s(t)}}),[i]);return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("div",{className:jt.a.richTextContainer,children:[Object(W.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(W.jsx)("label",{style:{margin:0,padding:0,paddingBottom:"10px"},children:e.title})}),Object(W.jsx)("div",{className:"editor",children:Object(W.jsx)(st.Editor,{editorState:c,onEditorStateChange:function(t){s(t),e.setHtml(ot()(Object(ct.convertToRaw)(c.getCurrentContent())))},editorClassName:jt.a.editor,wrapperClassName:jt.a.wrapper,toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0},image:{uploadCallback:function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("POST","https://api.imgur.com/3/image"),r.setRequestHeader("Authorization","Client-ID ##clientid##");var a=new FormData;a.append("image",e),r.send(a),r.addEventListener("load",(function(){var e=JSON.parse(r.responseText);console.log(e),t(e)})),r.addEventListener("error",(function(){var e=JSON.parse(r.responseText);console.log(e),n(e)}))}))},alt:{present:!0,mandatory:!0}}}})})]})})},bt=function(){var e=Object(Q.c)((function(e){return e.userPosts.categories})),t=Object(Q.b)(),n=[],a=Object(re.g)(),c=Object(r.useState)(""),s=Object(d.a)(c,2),i=s[0],o=s[1],p=Object(r.useState)(""),b=Object(d.a)(p,2),f=b[0],O=b[1],x=Object(r.useState)(!1),h=Object(d.a)(x,2),m=h[0],g=h[1],v=Object(r.useState)(""),_=Object(d.a)(v,2),C=_[0],y=_[1],k=Object(r.useState)([]),S=Object(d.a)(k,2),P=S[0],E=S[1],T=Object(r.useContext)(X);console.log("ctx",T),Object(r.useEffect)((function(){O(Ie("")),g(!0)}),[]);var L=function(e){var t=[];return e.forEach((function(e){t.includes(e.name)||t.push(e.name)})),t},I=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=Object(ne.a)(t),e.prev=2,a.s();case 4:if((c=a.n()).done){e.next=19;break}return s=c.value,e.prev=6,e.next=9,w(s);case 9:r=e.sent,n.push(r),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(6),T.callSetError(e.t0),e.abrupt("return");case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(2),a.e(e.t1);case 24:return e.prev=24,a.f(),e.finish(24);case 27:return e.abrupt("return",n);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27],[6,13]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(l.a.mark((function e(r){var c,s,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),c=[],s=L(0==P.length?n:P),e.next=5,I(s);case 5:return c=e.sent,t(ee.addCategories(c)),o={tags:c,title:i,article:Le(C)},e.prev=8,e.next=11,N(T.uid,o);case 11:u=e.sent,t(ee.addPost(Object(j.a)({id:u,uid:T.uid},o))),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(8),T.callSetError(e.t0),e.abrupt("return");case 19:a.push("/");case 20:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:$e.a.content,children:[Object(W.jsx)(se,{className:$e.a.title,children:Object(W.jsx)("h1",{children:"Add Post"})}),Object(W.jsx)("div",{className:$e.a.parentContainer,children:Object(W.jsx)(se,{className:$e.a.container,style:{paddingBottom:"20px"},children:Object(W.jsxs)("form",{onSubmit:A,children:[Object(W.jsxs)("div",{className:$e.a.firstRow,children:[Object(W.jsx)(de,{id:"title",type:"text",placeholder:"Enter title of the post",onChange:function(e){o(e.target.value)},value:i,title:"Title",required:!0,inputContainerStyle:{flexDirection:"column"}}),Object(W.jsx)(at,{title:"Select Categories",tags:n,suggestions:e,onTagsChanged:function(e){E(e)}})]}),m&&Object(W.jsx)(pt,{title:"Article",initHtml:f,setHtml:y}),Object(W.jsxs)("div",{className:$e.a.actions,children:[Object(W.jsx)(be,{title:"Save",onClick:function(){},style:{marginRight:"10px"}}),Object(W.jsx)(be,{title:"Cancel",type:"button",onClick:function(){T.clearError(),a.replace("/")},style:{marginRight:"10px"}})]})]})})})]})},ft=function(){return Object(W.jsx)(bt,{})},Ot=n(54),xt=n.n(Ot),ht=function(){var e=Object(re.i)().id,t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],c=n[1],s=Object(r.useContext)(X),i=Object(re.g)(),o=Object(r.useState)(""),p=Object(d.a)(o,2),b=p[0],f=p[1],O=Object(r.useState)(""),x=Object(d.a)(O,2),h=x[0],m=x[1],g=Object(r.useState)(!1),_=Object(d.a)(g,2),C=_[0],y=_[1],k=Object(r.useState)([]),N=Object(d.a)(k,2),S=N[0],E=N[1],T=Object(r.useState)(),L=Object(d.a)(T,2),I=L[0],A=L[1],R=Object(Q.b)(),U=Object(Q.c)((function(e){return e.userPosts.categories})),D=Object(Q.c)((function(e){return e.userPosts.posts})).find((function(t){return t.id==e})),F=D.title,q=D.tags,B=D.article;if(Object(r.useEffect)((function(){D&&c(F),D&&E(q||[]),D&&A(q||[]);var e=ut()(Ie(B));if(e){var t=ct.ContentState.createFromBlockArray(e.contentBlocks);ct.EditorState.createWithContent(t);m(Ie(B)),y(!0)}}),[F,q,B]),!D)return null;var V=function(e){var t=[];return e.forEach((function(e){t.includes(e.name)||t.push(e.name)})),t},H=function(){var e=S.map((function(e){return e.name}));return I.filter((function(t){return!e.includes(t.name)}))},M=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=Object(ne.a)(t),e.prev=2,a.s();case 4:if((c=a.n()).done){e.next=19;break}return i=c.value,e.prev=6,e.next=9,w(i);case 9:r=e.sent,n.push(r),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(6),s.callSetError(e.t0),e.abrupt("return");case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(2),a.e(e.t1);case 24:return e.prev=24,a.f(),e.finish(24);case 27:return e.abrupt("return",n);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27],[6,13]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var t=Object(u.a)(l.a.mark((function t(n){var r,c,o,d,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=[],c=V(0==S.length?I:S),t.next=5,M(c);case 5:return r=t.sent,R(ee.addCategories(r)),(o=H()).forEach(function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t.id);case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R(ee.deleteCategories(o)),t.next=13,M(c);case 13:return d={tags:r,title:a,article:Le(b||h)},t.prev=15,t.next=18,P(s.uid,e,d);case 18:p=t.sent,R(ee.editPost(Object(j.a)({id:p,uid:s.uid},d))),t.next=26;break;case 22:return t.prev=22,t.t0=t.catch(15),s.callSetError(t.t0),t.abrupt("return");case 26:i.push("/");case 27:case"end":return t.stop()}}),t,null,[[15,22]])})));return function(e){return t.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:xt.a.content,children:[Object(W.jsx)(se,{className:xt.a.title,children:Object(W.jsx)("h1",{children:"Edit Post"})}),Object(W.jsx)("div",{className:xt.a.parentContainer,children:Object(W.jsx)(se,{className:xt.a.container,style:{paddingBottom:"20px"},children:Object(W.jsxs)("form",{onSubmit:Y,children:[Object(W.jsxs)("div",{className:xt.a.firstRow,children:[Object(W.jsx)(de,{id:"title",type:"text",placeholder:"Enter title of the post",onChange:function(e){c(e.target.value)},value:a,title:"Title",required:!0,inputContainerStyle:{flexDirection:"column"}}),C&&Object(W.jsx)(at,{title:"Select Categories",tags:I,suggestions:U||[],onTagsChanged:function(e){E(e)}})]}),C&&Object(W.jsx)(pt,{title:"Article",initHtml:h,setHtml:f}),Object(W.jsxs)("div",{className:xt.a.actions,children:[Object(W.jsx)(be,{title:"Save",onClick:function(){},style:{marginRight:"10px"}}),Object(W.jsx)(be,{title:"Cancel",type:"button",onClick:function(){s.clearError(),i.replace("/")},style:{marginRight:"10px"}})]})]})})})]})},mt=function(){return Object(W.jsx)(ht,{})},gt=n(58),vt=n.n(gt),_t=function(e){var t=Object(r.useContext)(X);console.log(t.isLoggedIn);var n=t.isLoggedIn?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("li",{children:Object(W.jsx)(i.b,{to:"/posts/newPost",children:Object(W.jsx)(be,{title:"New Post",onClick:function(){},style:{width:"10vw"}})})}),Object(W.jsx)("li",{children:Object(W.jsx)(be,{title:"Sign Out",onClick:t.signOff,style:{width:"10vw"}})})]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("li",{children:Object(W.jsx)(i.b,{to:"/signup",children:Object(W.jsx)(be,{title:"Sign Up",onClick:t.signOff,style:{width:"10vw"}})})}),Object(W.jsx)("li",{children:Object(W.jsx)(i.b,{to:"/login",children:Object(W.jsx)(be,{title:"Login",onClick:t.signOff,style:{width:"10vw"}})})})]}),a=!!e.imageUrl?Object(W.jsx)("img",{className:vt.a.logo,src:e.imageUrl,alt:e.title}):Object(W.jsx)("span",{className:vt.a.logo,style:{display:"inline-block"},children:e.title});return Object(W.jsxs)("div",{className:vt.a.container,children:[Object(W.jsx)("div",{className:vt.a.containerLogo,children:Object(W.jsxs)(i.b,{to:"/",children:[" ",a]})}),Object(W.jsx)("h1",{children:" User Posts"}),Object(W.jsx)("div",{children:Object(W.jsx)("nav",{children:Object(W.jsx)("ul",{className:vt.a.containerNav,children:n})})})]})},Ct=function(e){var t=Object(r.useContext)(X).error;return t&&t.message?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Ee,{onClose:e.onClose}),Object(W.jsx)(Ne,{header:Object(W.jsx)("h1",{style:{color:"white",fontWeight:"bold",padding:"5px",width:"100%"},children:"Some error occurred"}),actions:Object(W.jsx)(be,{title:"Close",onClick:e.onClose,style:{fontWeight:"bold"}}),bodyStyle:{color:"red"},onClose:e.onClose,children:Object(W.jsx)("p",{style:{backgroundColor:"white",padding:"10px",borderRadius:"5px",border:"2px solid black"},children:t.message.replace(/Firebase:/g,"")})})]}):null},yt=function(e){return Object(W.jsx)("div",{style:{flex:1,alignSelf:"center",display:"flex",flexDirection:"column",minWidth:"80vw",width:"100%"},children:e.children})};var wt=function(){var e=Object(Q.b)(),t="/user-posts";Object(r.useEffect)((function(){var t=function(){var t=Object(u.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:n=t.sent,e(ee.loadCategories(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(u.a)(l.a.mark((function t(){var n,r,a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:n=t.sent,e(ee.loadUsers(n)),r=Object(ne.a)(n),t.prev=5,c=l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.value,t.next=3,D(n.id);case 3:r=t.sent,e(ee.loadPosts(r.map((function(e){return Object(j.a)({uid:n.id},e)}))));case 5:case"end":return t.stop()}}),t)})),r.s();case 8:if((a=r.n()).done){t.next=12;break}return t.delegateYield(c(),"t0",10);case 10:t.next=8;break;case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(5),r.e(t.t1);case 17:return t.prev=17,r.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,14,17,20]])})));return function(){return t.apply(this,arguments)}}();t(),n()}),[e]);var n=Object(r.useContext)(X),a=n.isLoggedIn?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(re.b,{path:"/posts/newPost",exact:!0,children:Object(W.jsx)(ft,{})}),Object(W.jsx)(re.b,{path:"/posts/edit/:id",exact:!0,children:Object(W.jsx)(mt,{})})]}):null;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Ct,{onClose:function(){return n.clearError()}}),Object(W.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh"},children:[Object(W.jsx)(_t,{title:"User Posts",imageUrl:"/user-posts/blog.jfif"}),Object(W.jsx)(yt,{children:Object(W.jsxs)(re.d,{children:[Object(W.jsx)(re.b,{path:"".concat(t,"/posts"),exact:!0,children:Object(W.jsx)(Ke,{})}),Object(W.jsx)(re.b,{path:t,exact:!0,children:Object(W.jsx)(re.a,{to:"".concat(t,"/posts")})}),Object(W.jsx)(re.b,{path:"".concat(t,"/signup"),children:Object(W.jsx)(me,{})}),Object(W.jsx)(re.b,{path:"".concat(t,"/login"),children:Object(W.jsx)(_e,{})}),Object(W.jsx)(re.b,{path:"".concat(t,"//posts/view/:postId"),children:Object(W.jsx)(qe,{})}),a]})})]})]})};s.a.render(Object(W.jsx)(Q.a,{store:te,children:Object(W.jsx)(z,{children:Object(W.jsx)(i.a,{children:Object(W.jsx)(wt,{})})})}),document.getElementById("root"))},26:function(e,t,n){e.exports={content:"SignupComponent_content__3ZJSP",title:"SignupComponent_title__Op2-x",parentContainer:"SignupComponent_parentContainer__oCX4T",container:"SignupComponent_container__jvvB-",inputContainer:"SignupComponent_inputContainer__3EMZs",imageContainer:"SignupComponent_imageContainer__3nxif",input:"SignupComponent_input__3cFQb",actions:"SignupComponent_actions__3aRew"}},43:function(e,t,n){e.exports={deleteAction:"Post_deleteAction__1xs-Y",editAction:"Post_editAction__3bWH1",edit:"Post_edit___SqKk",delete:"Post_delete__ww0gN",user:"Post_user__2yC-9",author:"Post_author__3zx0m",article:"Post_article__cSQYR",container:"Post_container__1PfuH"}},53:function(e,t,n){e.exports={content:"AddPost_content__1ywYP",title:"AddPost_title__292UK",parentContainer:"AddPost_parentContainer__jyqjF",firstRow:"AddPost_firstRow__2EeGF",container:"AddPost_container__15G7F",inputContainer:"AddPost_inputContainer__wgCvx",input:"AddPost_input__2_PY_",actions:"AddPost_actions__2yHJq"}},54:function(e,t,n){e.exports={content:"EditPostComponent_content__sRyjX",title:"EditPostComponent_title__2ZrVt",parentContainer:"EditPostComponent_parentContainer__Tta8V",firstRow:"EditPostComponent_firstRow__3roNH",container:"EditPostComponent_container__34LCe",inputContainer:"EditPostComponent_inputContainer__QgLR3",input:"EditPostComponent_input__NYiX8",actions:"EditPostComponent_actions__2pSJQ"}},57:function(e,t,n){e.exports={container:"Modal_container__25T3Y","modal-container":"Modal_modal-container__P9Y4S","modal-header":"Modal_modal-header__1B_ZG","modal-body":"Modal_modal-body__Vvjsf","modal-footer":"Modal_modal-footer__3HCNI"}},58:function(e,t,n){e.exports={container:"Layout_container__2kD8g",containerLogo:"Layout_containerLogo__2wTsM",containerNav:"Layout_containerNav__2wCBF",logo:"Layout_logo__L54x_"}},66:function(e,t,n){e.exports={container:"CategoriesList_container__3eQbj",active:"CategoriesList_active__2w04i",catgories:"CategoriesList_catgories__McFhS"}},82:function(e,t,n){e.exports={btn:"Button_btn__1IvJh"}},83:function(e,t,n){e.exports={"image-container":"ImageUpload_image-container__1UktG","button-container":"ImageUpload_button-container__1qWCp"}},84:function(e,t,n){e.exports={container:"AutoComplete_container__21yoI",reactTags:"AutoComplete_reactTags__1uT6Y",labelContainer:"AutoComplete_labelContainer__1Ka3C"}},85:function(e,t,n){e.exports={editor:"RichText_editor__4GXaO","DraftEditor-root":"RichText_DraftEditor-root__mqs_N",wrapper:"RichText_wrapper__1x8tW",richTextContainer:"RichText_richTextContainer__12-d6"}},97:function(e,t,n){e.exports={inputContainer:"Input_inputContainer__2WVEN",input:"Input_input__3zfqg"}},99:function(e,t,n){e.exports={inputContainer:"TextArea_inputContainer__3nqBx",input:"TextArea_input__3i_VH"}}},[[258,1,2]]]);
//# sourceMappingURL=main.1aba07a1.chunk.js.map